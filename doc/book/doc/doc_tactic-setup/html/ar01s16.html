<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>16. Advanced Configuration</title><link rel="stylesheet" type="text/css" href="docbook-xsl.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="TACTIC Setup" /><link rel="up" href="index.html" title="TACTIC Setup" /><link rel="prev" href="ar01s15.html" title="15. Settings" /><link rel="next" href="ar01s17.html" title="17. Advanced Automation" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"><a accesskey="p" href="ar01s15.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ar01s17.html">Next</a></td></tr></table><hr /></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_advanced_configuration"></a>16. Advanced Configuration</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_advanced_schema_configuration"></a>16.1. Advanced Schema Configuration</h3></div></div></div><p><span class="strong"><strong>Advanced Schema Configuration</strong></span></p><p>When creating a search type, the "Search Type" property defines the
project schema (project_namespace) and name for the search type. For
example, if your current project is called <span class="strong"><strong>media</strong></span> then adding a new
search type named "artwork" into the interface will automatically
generate "media/artwork" and it will be added to the media project’s
schema</p><p><span class="strong"><strong>Schema XML Structure</strong></span></p><pre class="screen">&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;schema&gt;
  &lt;search_type name='media/training_videos'/&gt;
  &lt;search_type name='media/script'/&gt;
  &lt;connect to='media/script' type='hierarchy' from='media/training_videos'/&gt;
  &lt;search_type name='media/fonts'/&gt;

&lt;/schema&gt;</pre><p>To add a new search for a different schema, all that is required is an
explicit definition of the full Search Type
"&lt;project_namespace&gt;/&lt;name&gt;".</p><p>For example to add an "artwork" search type in the "media" namespace,
you would define the search type as "media/artwork". The specific schema
information will be added to your current project only.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_advanced_access_rule_configuration"></a>16.2. Advanced Access Rule Configuration</h3></div></div></div><p><span class="strong"><strong>Advanced Access Rule Configuration</strong></span></p><p><span class="strong"><strong>XML Access Rules</strong></span></p><p>Security access rules are XML documents attached to user groups. Each
user’s security clearance is based in a union of all of the rules coming
from the groups they are planned to. Admin users have no rules because,
by default, everything is allowed in TACTIC.</p><p>In the Groups table, the Access Rules column shows the XML rules which
are automatically generated by either the TACTIC Manage Security tool or
by manual editing for very specific and custom control. The default
security version for TACTIC 3.7 is security version 1 and for TACTIC 3.8
is security version 2. In general, for security version 1, the access
level is ranked like this from bottom up: deny &lt; view &lt; edit &lt; allow.
For security version 2: the access level is: view &lt; edit &lt; allow (where
"allow" provides the most permissions).</p><p>The security version is specified in the TACTIC config file as follows:</p><pre class="screen">&lt;security&gt;
    &lt;version&gt;2&lt;/version&gt;
&lt;/security&gt;</pre><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>Note</strong></span></p><p>If no security version is specified for TACTIC 3.7, the default is
security version 1. For a fresh install of TACTIC 3.8 (i.e. not an
upgrade), the default is security version 2.</p><p>If upgrading from TACTIC 3.7 to 3.8, the security version will remain
set at version 1 (which is the default for 3.7, since the security
version is not specified).</p></blockquote></div><p><span class="strong"><strong>Security Version 1</strong></span></p><p>The following section applies to Security Version 1.</p><p>Access rules for the <span class="emphasis"><em>Client</em></span> group: In this sample, any users in the
Client group can see only a project named "game" and cannot access the
side_bar items (which have been denied).</p><pre class="screen">&lt;?xml version='1.0' encoding='UTF-8'?&gt;
&lt;rules&gt;
  &lt;rule key='admin' access='deny' group='side_bar'/&gt;
  &lt;rule key='site_admin' access='deny' group='side_bar'/&gt;
  &lt;rule key='Level_Manage' access='deny' group='side_bar'/&gt;
  &lt;rule key='levels_folder' access='deny' group='side_bar'/&gt;
  &lt;rule key='characters_folder' access='deny' group='side_bar'/&gt;
  &lt;rule key='myTactic_folder' access='deny' group='side_bar'/&gt;
  &lt;rule group='project' access='deny'/&gt;
  &lt;rule group='project" key="game" access='allow'/&gt;
  &lt;/rules&gt;</pre><p><span class="strong"><strong>Global Rules</strong></span></p><p>The global rules can be configured in the Groups page or the Groups List
tab in the Manage Security page. Here is a list of the existing rules:</p><pre class="screen">    'view_side_bar', 'title': 'View Side Bar', 'default': 'allow'
    'view_site_admin', 'title': 'View Site Admin'
    'view_script_editor', 'title': 'View Script Editor'
    'side_bar_schema', 'title': 'View Side Bar Schema'
    'view_save_my_view', 'title': 'View and Save My Views', 'default': 'allow'
    'view_private_notes', 'title': 'View Private Notes'
    'view_column_manager', 'title': 'View Column Manager'
    'view_template_projects', 'title': 'View Template Projects', 'default': 'deny'


    'create_projects', 'title': 'Create Projects'
    'export_all_csv', 'title': 'Export All CSV'
    'import_csv', 'title': 'Import CSV'
    'retire_delete', 'title': 'Retire and Delete'</pre><p><span class="strong"><strong>Project level Examples</strong></span></p><p><span class="strong"><strong>XML Examples</strong></span></p><p>The following are examples of different access rules which can be used
to customize group access rules. Make sure the &lt;rule/&gt; tag is a child of
the &lt;rules/&gt; tag.</p><p><span class="strong"><strong>Project level Examples</strong></span></p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
This rule denies access to all projects except for the "sample3d"
project. In the following example, the "default" project is a home page
the user needs to use to select projects. Because it is part of the
group, you must explicitly allow viewing access to this default project
when you deny access to all projects. It is also needed for XML-RPC
communication to the client computer.
</p><pre class="screen">&lt;rules&gt;
  &lt;rule group='project' default='deny'/&gt;
  &lt;rule group='project' key='sample3d' access='allow'/&gt;
  &lt;rule group='project' key='default' access='view'/&gt;
&lt;/rules&gt;</pre></li><li class="listitem"><p class="simpara">
All projects can be viewed by default.
</p><pre class="screen">&lt;rule group='project' default='view'/&gt;</pre></li></ol></div><p><span class="strong"><strong>Search Type level Examples</strong></span></p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
The layer search type is not viewable in all projects
</p><pre class="screen">&lt;rule group='sobject' search_type='prod/layer' project='*' access='deny'/&gt;
or
&lt;rule group='sobject' search_type='prod/layer' access='deny'/&gt;</pre></li><li class="listitem"><p class="simpara">
The task search type is not viewable in project <span class="emphasis"><em>sample3d</em></span>. Note
that this is not the same as tasks assigned in project <span class="emphasis"><em>sample3d</em></span> is not
viewable. It merely restricts the user’s ability to view tasks when he
is in a particular project.
</p><pre class="screen">&lt;rule group='sobject' search_type='sthpw/task' project='sample3d' access='deny'/&gt;</pre></li><li class="listitem"><p class="simpara">
The note search type is not viewable in project <span class="emphasis"><em>sample3d</em></span>.
</p><pre class="screen">&lt;rule group='sobject' search_type='sthpw/note' project='sample3d' access='deny'/&gt;</pre></li><li class="listitem"><p class="simpara">
The note search type is not editable in project <span class="emphasis"><em>sample3d</em></span>. This
currently only applies to the main TableLayoutWdg used in most places.
NoteSheetWdg and DiscussionWdg which also handle note entry are not
bound by this rule.
</p><pre class="screen">&lt;rule group='sobject' search_type='sthpw/note' project='sample3d' access='view'/&gt;</pre></li><li class="listitem"><p class="simpara">
The shot search type is editable in project <span class="emphasis"><em>sample3d</em></span>
</p><pre class="screen">&lt;rule group='sobject' search_type='prod/shot' project='sample3d' access='edit'/&gt;</pre></li><li class="listitem"><p class="simpara">
The 3d Asset search type from project <span class="emphasis"><em>sample3d</em></span> is not viewable.
This is also applicable when you are in a different project looking at a
task in <span class="emphasis"><em>sample3d</em></span> and the parent of which happens to be a 3d Asset in
project <span class="emphasis"><em>sample3d</em></span>.
</p><pre class="screen">&lt;rule group='sobject' search_type='prod/asset' project='sample3d' access='deny'/&gt;</pre></li></ol></div><p><span class="strong"><strong>User Interface Column level Examples</strong></span></p><p>These examples affect the display of the columns in different views</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
The 3d Asset search type’s code and description are not editable in
all projects
</p><pre class="screen">&lt;rule group='element' search_type='prod/asset' key='code' access='view'/&gt;
&lt;rule group='element' search_type='prod/asset' key='description' access='view'/&gt;</pre></li><li class="listitem"><p class="simpara">
The Shot search type’s status is not editable in the <span class="emphasis"><em>sample3d</em></span>
project
</p><pre class="screen">&lt;rule group='element' search_type='prod/shot' key='status' access='view' project='sample3d/&gt;</pre></li><li class="listitem"><p class="simpara">
The Shot search type’s description is not visible in the <span class="emphasis"><em>sample3d</em></span>
project
</p><pre class="screen">&lt;rule group='element' search_type='prod/shot' key='description' access='deny' project='sample3d/&gt;</pre></li></ol></div><p><span class="strong"><strong>Database level Examples</strong></span></p><p>While Search Type and Search Type Column level examples affect the
display of the main TableLayoutWdg and EditWdg, the following database
level examples are applied when attempts are made to edit or insert data
into the database. It can block even server or client API script access
to the databases.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
This rule prevents the display and writing of the "is_current" field
for snapshots found in the Checkin History.
</p><p class="simpara">DEPRECATED and UNSUPPORTED format:</p><pre class="screen">    &lt;rule group='sobject|column' key='sthpw/snapshot|is_current' access='deny'/&gt;</pre><p class="simpara">New format:</p><pre class="screen">    &lt;rule group='sobject_column' search_type='sthpw/snapshot' column='is_current' access='deny'/&gt;</pre></li><li class="listitem"><p class="simpara">
The description column for Shot cannot be edited in any widget or
any script. It is view only.
</p><pre class="screen"> &lt;rule group='sobject_column' column='description'  search_type='prod/shot' access='view'/&gt;</pre></li><li class="listitem"><p class="simpara">
The status column for Task cannot be edited in any widget or any
script. It is view only.
</p><pre class="screen"> &lt;rule group='sobject_column' column='status'  search_type='sthpw/task' access='view'/&gt;</pre></li><li class="listitem"><p class="simpara">
The custom sType project/asset is view-only and not editable by a
particular group.
</p><pre class="screen"> &lt;rule group='sobject' search_type='project/asset' access='view'/&gt;</pre></li><li class="listitem"><p class="simpara">
The custom sType project/asset is not viewable by a particular
group. The search result will always come up empty.
</p><pre class="screen"> &lt;rule group='sobject' search_type='project/asset' access='deny'/&gt;</pre></li></ol></div><p><span class="strong"><strong>Search Filter Examples</strong></span></p><p>To enforce what can be searched or filtered out in any situation like
script query or UI view, search_filter rules can be applied. The
<span class="emphasis"><em>access</em></span> attribute is not required here.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
This rule filters out tasks belonging to project "pacman" and
"sample3d". Notice you don’t need "access" here.
</p><pre class="screen"> &lt;rule group='search_filter' column='project_code' value='pacman' op='!=' search_type='sthpw/task' /&gt;
 &lt;rule group='search_filter' column='project_code' value='sample3d' op='!=' search_type='sthpw/task' /&gt;</pre></li><li class="listitem"><p class="simpara">
This rule retrieves task that is assigned to the current login user,
applicable when navigating in project <span class="emphasis"><em>sample3d</em></span>. Notice the <span class="emphasis"><em>value</em></span>
attribute can accept an expression. $LOGIN and $PROJECT are also
supported.
</p><pre class="screen"> &lt;rule column='assigned' value='@GET(login.login)' search_type='sthpw/task' op='=' group='search_filter' project='sample3d'/&gt;
    or
 &lt;rule column='assigned' value='$LOGIN' search_type='sthpw/task' op='=' group='search_filter' project='sample3d'/&gt;</pre></li></ol></div><p><span class="strong"><strong>Miscellaneous Examples</strong></span></p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
This rule blocks a user from seeing the options "Approved" and
"Complete" in the task status drop-down
</p><pre class="screen">  &lt;rule access='deny' key='Complete' category='process_select'/&gt;
  &lt;rule access='deny' key='Approved' category='process_select'/&gt;</pre></li></ol></div><p><span class="strong"><strong>Security Version 2</strong></span></p><p>The following are examples of how to fine tune control access to TACTIC
in security version 2. (Some of these example may be repeated in
security version 1 above.)</p><p><span class="strong"><strong>Project Access:</strong></span></p><p>This allows the group to see the project with the code "toy_factory".</p><pre class="screen">&lt;rules&gt;

&lt;/rules&gt;</pre><p><span class="strong"><strong>Link Access:</strong></span></p><p>This allows the group to see the link named "block_set_list" in the
project named "toy_factory".</p><pre class="screen">&lt;rules&gt;
  &lt;rule group="project" code="toy_factory" access="allow"/&gt;

&lt;/rules&gt;</pre><p><span class="strong"><strong>sType (Search Type) Access:</strong></span></p><p>This allows the group</p><p>to see the sType "toy_factory/design" in the project named
"toy_factory".</p><p>to hide the sType "sthpw/task" in the project named "toy_factory".</p><pre class="screen">&lt;rules&gt;
  &lt;rule group="project" code="toy_factory" access="allow"/&gt;
  &lt;rule group="link" element="block_set_list" project="toy_factory" access="allow"/&gt;

&lt;/rules&gt;</pre><p><span class="strong"><strong>Process Access:</strong></span></p><p>This allows the group to see the process named "packaging" in the
project named "toy_factory".</p><pre class="screen">&lt;rules&gt;
  &lt;rule group="project" code="toy_factory" access="allow"/&gt;
  &lt;rule group="link" element="block_set_list" project="toy_factory" access="allow"/&gt;
  &lt;rule group="search_type" code="toy_factory/design" project="toy_factory" access="allow"/&gt;
  &lt;rule group="search_type" code="sthpw/task" project="toy_factory" access="deny"/&gt;

&lt;/rules&gt;</pre><p><span class="strong"><strong>User Interface Column level Access:</strong></span></p><p>This allows the group to:</p><p>-view the element <span class="emphasis"><em>description</em></span></p><p>-edit the element <span class="emphasis"><em>name</em></span></p><pre class="screen">&lt;rules&gt;
  &lt;rule group="project" code="toy_factory" access="allow"/&gt;
  &lt;rule group="link" element="block_set_list" project="toy_factory" access="allow"/&gt;
  &lt;rule group="search_type" code="toy_factory/design" project="toy_factory" access="allow"/&gt;
  &lt;rule group="search_type" code="sthpw/task" project="toy_factory" access="deny"/&gt;
  &lt;rule group="process" process="packaging" project="toy_factory" access="allow"/&gt;

&lt;/rules&gt;</pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_remove_projects"></a>16.3. Remove Projects</h3></div></div></div><p>There is no user interface in TACTIC to remove a project. This is
because the complete removal of a project has some pretty significant
consequences. When a project is created, a number of elements are
created. These are listed below.</p><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>Note</strong></span></p><p>This task may need to be carried out by the Tactic System Admin as it
involves manually accessing both the Tactic File system and the Tactic
Database</p></blockquote></div><p>In all of the following examples, &lt;project_code&gt; represents the code of
the project when the project was created.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
A database called &lt;project_code&gt;
</li><li class="listitem">
An assets directory in &lt;tactic_asset_dir&gt;
</li><li class="listitem">
Entry in the project table
</li></ul></div><p><span class="strong"><strong>A complete removal of a project should be handled with care. This is
most often desirably when a project has been created in properly. It is
one of the few operations that is not undo-able in TACTIC, so it is
recommended to be careful when proceeding with the following steps. It
is also recommended that a complete backup of TACTIC is performed before
carrying out this process.</strong></span></p><p><span class="strong"><strong>Remove the project directory</strong></span></p><pre class="screen">cd &lt;project_install_dir&gt;/sites
rm -rf &lt;project_code&gt;</pre><p><span class="strong"><strong>Remove the database</strong></span></p><pre class="screen">psql -U postgres sthpw
drop database "&lt;project_code&gt;";</pre><p><span class="strong"><strong>Remove the assets directory</strong></span></p><pre class="screen">cd &lt;project_asset_dir&gt;
rm -rf &lt;project_code&gt;</pre><p><span class="strong"><strong>Remove the entry in the projects table in the database</strong></span></p><pre class="screen">psql -U postgres sthpw
delete from project where code='&lt;project_code&gt;';</pre><p><span class="strong"><strong>Remove connected entities in the sthpw database;</strong></span></p><p>In this process, Tactic may not allow removing a particular project due
to there being child tasks, notes, snapshots, files, wdg_settings etc.
If Tactic denies revoval because, for example there is a connection in
the file table, you will need to do the following</p><pre class="screen">delete from file where project_code='&lt;project_code&gt;';
delete from snapshot where project_code='&lt;project_code&gt;';
delete from task where project_code='&lt;project_code&gt;';
delete from note where project_code='&lt;project_code&gt;';
delete from wdg_settings where project_code='&lt;project_code&gt;';
delete from pref_setting where project_code='&lt;project_code&gt;';</pre></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ar01s15.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ar01s17.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> </td></tr></table></div></body></html>