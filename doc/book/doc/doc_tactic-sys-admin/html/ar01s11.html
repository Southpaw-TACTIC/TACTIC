<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>11. TACTIC Server VM</title><link rel="stylesheet" type="text/css" href="docbook-xsl.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="TACTIC System-Admin Documentation" /><link rel="up" href="index.html" title="TACTIC System-Admin Documentation" /><link rel="prev" href="ar01s10.html" title="10. Maintenance" /><link rel="next" href="ar01s12.html" title="12. Client Setup" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"><a accesskey="p" href="ar01s10.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ar01s12.html">Next</a></td></tr></table><hr /></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_tactic_server_vm"></a>11. TACTIC Server VM</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_tactic_vm_setup_and_install"></a>11.1. TACTIC VM Setup and Install</h3></div></div></div><p>The TACTIC VM lets you run a virtual machine on Windows or Linux, and
provides an easy way to evaluate the TACTIC platform without changing
your operating system. The VM requires VMware Player for Windows or
Linux,</p><p><span class="strong"><strong><span class="emphasis"><em>Q.</em></span></strong></span> Will my computer be adversely affected if I run VM ?</p><p><span class="strong"><strong><span class="emphasis"><em>A.</em></span></strong></span> Your computer will not be affected by the VM. Aside from
requiring a large amount of memory (the TSI unzips into a folder needing
at least 5-10 GB), the TACTIC virtual machine does not interact with
your host machine. At the end of the evaluation period, you can either
continue using the TSI for production, migrate your data to a new full
server install or simply delete the TSI directory. (Note that if you
delete the TSI directory, all evaluation data you entered into the
TACTIC evaluation is destroyed.)</p><p><span class="strong"><strong>Request and download the TACTIC Server Image (TSI)</strong></span></p><p>The TSI is available on request from Southpaw Technology. When you
contact the Southpaw sales or support representatives and set up an
evaluation account, they will send you a URL and login/password
information so you can begin the trial.</p><p>For more information, visit:</p><p><a class="ulink" href="http://www.southpawtech.com" target="_top"><span class="strong"><strong>http://www.southpawtech.com</strong></span></a></p><p><span class="strong"><strong>Download VMware Player or server</strong></span></p><p>The VMware player is a license-free player you can download from</p><p><span class="strong"><strong>http://vmware.com/download/player/ [<a class="ulink" href="http://vmware.com/download/player/" target="_top">http://vmware.com/download/player/</a>]</strong></span></p><p>VMware currently supports Microsoft Windows XP, Windows Vista and many
flavors of Linux. To streamline the evaluation process, we chose the
Fedora Linux-based operating system to create the TSI virtual machine
image. (Although you will be running the VM on any of many supported
operating systems, you will see the Fedora Linux when you use the VM.)</p><p><span class="strong"><strong>Download VMware Server</strong></span></p><p>The VMware server is a full-featured service for Virtual machines</p><p>VMware server is a service that allows users to run VMs silently in the
background. No window is needed, and the server can be configured to run
the VM on host machine startup. Additionally, there are several
interesting options that allow for more flexible operation of a VM.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
<span class="strong"><strong>Web UI</strong></span>
</li><li class="listitem">
<span class="strong"><strong>Pause</strong></span> The ability to pause a VM is useful for cycling the VM host.
</li><li class="listitem">
<span class="strong"><strong>Snapshot a VM</strong></span> The VMs current state can be saved and recalled in the
future. Note that if the VM is reverted to a snapshot, then any changes
that have occurred since the snapshot was taken will be permanently
deleted.
</li><li class="listitem">
<span class="strong"><strong>Change hardware</strong></span> The VM can be modified to change hardware. For
example, another network interface, or a USB interface
</li></ul></div><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>Note</strong></span></p><p>The instructions for running a VM can be found in the VMware server
documentation. Running the VM from VMware player is covered in this
document.</p></blockquote></div><p><span class="strong"><strong>Web Browser</strong></span></p><p>We recommend you use Mozilla Firefox as your web browser to access the
TSI. You can download Firefox at:</p><p><span class="strong"><strong>http://www.mozilla.com/en-US/firefox/ [<a class="ulink" href="http://www.mozilla.com/en-US/firefox/" target="_top">http://www.mozilla.com/en-US/firefox/</a>]</strong></span></p><p><span class="strong"><strong>Login Info</strong></span></p><p>There are three sets of login info to remember:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
VM Linux user
</p><p class="simpara">user: root password: south123paw
2.  TACTIC UI in browser</p><p class="simpara">user: admin password: tactic
3.  Windows Samba share</p><p class="simpara">user: apache password: south123paw</p></li></ol></div><p><span class="strong"><strong>Networking</strong></span></p><p>When VMware software is installed, several new network interfaces can
become available, depending on the options selected during the
installation process. Although any one of the interfaces can be used to
connect to the VM, it is advised to install all three network
interfaces, as this allows the most flexibility</p><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>Note</strong></span></p><p>Successful operation of a virtual machine may require some input from
system administrators within a network environment.</p></blockquote></div><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
NAT
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
If it becomes necessary to isolate the VM on a host machine, then the
NAT interface can be used to connect to the VM.
</li><li class="listitem">
Internet and LAN connectivity can be utilized through the NAT
interface if the host machine is connected to an external network such
as the internet or a LAN. Allowing the VM to communicate with a LAN may
require changes to the routing system on the LAN. If this is a
requirement, then bridged networking may be the better option.
</li><li class="listitem">
NAT is a complete network that originates at the host machine, and is
a self-contained router with DHCP services. The VM, once run, will
usually ask the host machine for an IP address to assign to a network
interface. The host machine can then connect to the VM interface through
this IP.
</li></ul></div></li><li class="listitem"><p class="simpara">
Bridged
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
If there are machines other than the host machine that are required
to connect to the VM, then the bridged connection should be used.
</li><li class="listitem">
The only requirement that bridged networking has is that there are
appropriate services for the operation of the interface, such as DHCP on
the host machines network. If these services do not exist, then the VM
network interface needs to have manually set options.
</li></ul></div></li><li class="listitem"><p class="simpara">
Host Only
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
To isolate the TSI completely, the “Host Only�? option can be used.
</li><li class="listitem">
Host Only is a complete network that originates at the host machine,
and is a self-contained router with DHCP services. The VM, once run,
will usually ask the host machine for an IP address to assign to a
network interface. The host machine can then connect to the VM interface
through this IP.
</li><li class="listitem">
The VM is completely isolated from the host machines LAN. There is no
network connectivity, therefore no LAN or internet will be available on
the VM.
</li></ul></div></li></ul></div><p>After you start up the VMware Player, click on the <span class="strong"><strong>Open</strong></span> option to
browse for a virtual machine.</p><p><span class="inlinemediaobject"><img src="media/vmwareStartup.png" alt="image" /></span></p><p>Browse to where the unzipped VM is. Open the <code class="literal">TACTIC_VM_3.8.0.v04.vmx</code>
file. The TSI will start up in the VMware Player.</p><p>When you first start the VM, you are presented with a window asking
whether the virtual machine was moved or copied. Click the "I copied it"
button.</p><p><span class="inlinemediaobject"><img src="media/movedOrCopied.png" alt="image" /></span></p><p>Start-up messages scroll by after the Linux kernel boots in the VM
window. After the boot-up is completed, you will see this prompt:</p><p><span class="inlinemediaobject"><img src="media/TSI_loginScreen.png" alt="image" /></span></p><p>If you see this prompt, the TACTIC VM has started up correctly. If it
does not show an IP address (for example, a number like
"192.168.25.138"), it means the virtual machine has not picked up an IP
address from a DHCP server. This IP address is required, so you must
contact your IT department to fix this situation. (Refer to the
Troubleshooting Section.)</p><p>Write down the IP address and any names you see such as
"localhost.localdomain". (You will need this information in a next
step.)</p><p>In special evaluation situations, there is a requirement for more disk
space than has been allocated for a standard evaluation (i.e. a large
amount of assets are to be stored, then the TSI "assets partition" can
be expanded.</p><p>Steps to expand disk space on a VM</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Shut down TACTIC
</p><p class="simpara">To shut down TACTIC, issue the command</p><p class="simpara">service tactic stop
2.  Unmount the "TACTIC" drive</p><p class="simpara">umount /home/apache
3.  Run the logical Volume expansion tool</p><p class="simpara">lvextend -L+2G /dev/mapper/VolGroup00-LogVol00</p><p class="simpara">This example command resizes the logical volume by +2 G, as seen in the
command itself. The volume can be expanded to the total size of the
virtual disk.
4.  Run the filesystem consistancy checker to make sure the filesystem
is ok</p><p class="simpara">e2fsck -f /dev/mapper/VolGroup00-LogVol00
5.  Resize the filesystem on the logical volume</p><p class="simpara">resize2fs /dev/mapper/VolGroup00-LogVol00
6.  Re-mount the "assets" drive</p><pre class="screen">mount /home/apache/assets</pre></li><li class="listitem"><p class="simpara">
Restart TACTIC
</p><pre class="screen">service tactic start</pre></li></ol></div><p>To make your evaluation easier, the TSI uses passwords that are easy to
guess and a Samba share. This could cause security issues, so your IT
department must be aware of your use of the TSI.</p><p><span class="strong"><strong>Tactic Samba Network Details</strong></span></p><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"><p><span class="strong"><strong>Workgroup</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Southpawtech</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"><p><span class="strong"><strong>Machine</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>TSI 2.0.0</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"><p><span class="strong"><strong>Share</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Tactic</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="right" valign="top"><p><span class="strong"><strong>Share User</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Apache</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="right" valign="top"><p><span class="strong"><strong>Share Password</strong></span></p></td><td style="" align="left" valign="top"><p>south123paw</p></td></tr></tbody></table></div><p>If at any point during the usage of the VM there is a need to reset the
VM back to its original state, simply delete or archive the directory
with the TSI data, and re-expand the zip file that was downloaded from
the community site.</p><p>Your TACTIC VM server is set up.</p><p>Contact your TACTIC Representative for support details at
<a class="ulink" href="mailto:support@southpawtech.com" target="_top">support@southpawtech.com</a></p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_tactic_vm_troubleshooting"></a>11.2. TACTIC VM Troubleshooting</h3></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
<span class="strong"><strong>The IP address does not show up when I start up the VM.</strong></span>
</p><p class="simpara">It is possible that an IP address was not assigned because your host
machine is not connected to a network. Or, you have a special network
configuration that may require one of the following settings:
* Network with DHCP: bridged
* Network without DHCP: NAT
* No network: host-only</p><p class="simpara"><span class="emphasis"><em>*_Changing Windows Special Network Configurations</em></span>*_</p><p class="simpara">In the top right corner of your VMware player, click on the down arrow
beside the Ethernet button and choose <span class="strong"><strong>host-only</strong></span> , <span class="strong"><strong>NAT</strong></span>, or <span class="strong"><strong>bridged</strong></span>.
Make sure the <span class="strong"><strong>Connected</strong></span> menu item is checked.</p><p class="simpara"><span class="strong"><strong><span class="emphasis"><em>Changing Linux Special Network Configurations</em></span></strong></span></p><p class="simpara">In the top right corner of your VMware player, right-click on the
Ethernet button and choose <span class="strong"><strong>host-only</strong></span>, <span class="strong"><strong>NAT</strong></span>, or <span class="strong"><strong>bridged</strong></span>. Make sure
the <span class="strong"><strong>Connected</strong></span> menu item is checked.</p><p class="simpara">If the problem persists, refer to the VMware Player documentation by
pressing F1.
2.  <span class="strong"><strong>I do not remember the IP address of the VMware virtual machine.</strong></span></p><p class="simpara">In the VMware player, run the following command in the shell:</p><p class="simpara"><code class="literal">ifconfig</code></p><p class="simpara">The IP is the internet address; for example, "192.168.14.101."</p><p class="simpara"><span class="strong"><strong>Refreshing the IP Address</strong></span></p><p class="simpara">If you change the Ethernet settings, you may need to restart the network
card in the VM. First, you will need to know its number: run the command
<code class="literal">ifconfig</code> in the VM shell. You should see a name similar to "ethX",
where X is the arbitrary number of the interface. To restart "ethX", run
the following commands:</p><p class="simpara"><code class="literal">ifdown ethX</code></p><p class="simpara"><code class="literal">ifup ethX</code></p></li><li class="listitem"><p class="simpara">
<span class="strong"><strong>I get a proxy error in my browser that looks like the following:</strong></span>
</p><pre class="screen">Proxy Error

The proxy server received an invalid response from an upstream server.
The proxy server could not handle the request /POST /tactic/admin/ &lt;http://192.168.14.113/tactic/admin/&gt;/

Reason: *Error reading from remote server</pre><p class="simpara">This message tells you the TACTIC service has stopped. If you are
running other processes on port 80 (for example, Skype), this can cause
a problem with the TACTIC service. Stop the conflicting service. Then
restart TACTIC in the VM by logging in as root and running the command:</p><p class="simpara">`service tactic start `</p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_moving_vm_data"></a>11.3. Moving VM Data</h3></div></div></div><p>To transfer data from one VM to another, you need to do the following:</p><p>In the old TSI VM shell:</p><p><code class="literal">cd /home/apache</code></p><p><code class="literal">pg_dumpall -U postgres -c &gt; tactic_database.sql</code></p><p>In your host machine assuming windows, start a new window of Windows
Explorer in the address, type in:</p><p><code class="literal">\\&lt;your old VM IP address&gt;</code></p><p>when prompted for uid, password, type in :</p><p><code class="literal">apache</code></p><p><code class="literal">south123paw</code></p><p>navigate into the apache folder, you should see the file
<span class="strong"><strong>tactic_database.sql</strong></span>, <span class="strong"><strong>assets folder</strong></span> and <span class="strong"><strong>projects folder</strong></span></p><p>You need to move the old VM’s <span class="strong"><strong>tactic_database.sql</strong></span>, <span class="strong"><strong>assets folder</strong></span> and
<span class="strong"><strong>projects</strong></span> folder to the same location of the VM you just downloaded and
installed.</p><p>Same as above, open a new windows explorer, but type in the new VM IP
address and carry out the copying</p><p>In the new TACTIC VM shell, assuming you have copied the
<span class="strong"><strong>tactic_database.sql</strong></span>, <span class="strong"><strong>assets folder</strong></span> and <span class="strong"><strong>projects folder</strong></span> in the new
IP from the VM, Type in:</p><p><code class="literal">dropdb -U postgres sthpw</code></p><p><code class="literal">psql -U postgres &lt; tactic_database.sql</code></p><p>Upgrade the TACTIC database in the VM according to the version you are
upgrading to</p><p>Now you can just shut down the old VM by closing the VMware player
window</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ar01s10.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ar01s12.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> </td></tr></table></div></body></html>