<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>2. Install TACTIC Application</title><link rel="stylesheet" type="text/css" href="docbook-xsl.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="TACTIC End-User Documentation" /><link rel="up" href="index.html" title="TACTIC End-User Documentation" /><link rel="prev" href="ar01s01.html" title="1. Planning" /><link rel="next" href="ar01s03.html" title="3. Install Python" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><td width="20%" align="left"><a accesskey="p" href="ar01s01.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ar01s03.html">Next</a></td></tr></table><hr /></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="_install_tactic_application"></a>2. Install TACTIC Application</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_general_tactic_install"></a>2.1. General TACTIC Install</h3></div></div></div><p>This document guides you through the general installation of TACTIC in
Fedora Linux with some brief background information. For installation on
Windows or CentOS, please refer to the corresponding sections in this
book. To completely install TACTIC, there are three main components that
have to be set up in the following order:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
A Database
</li><li class="listitem">
The TACTIC Installer
</li><li class="listitem">
A Web Server
</li></ol></div><p>TACTIC stores all metadata in a database called PostgreSQL. This is an
industrial strength, hugely scalable database that has proven itself in
thousands of industries around the world. We currently recommend 8.4 and
upwards for ease of installation. Go to the
<a class="ulink" href="www.postgresql.org" target="_top">PostgreSQL website</a> for more information.</p><p>rpm -Uvh <a class="ulink" href="http://yum.pgrpms.org/reporpms/8.4/pgdg-fedora-8.4-2.noarch.rpm" target="_top">http://yum.pgrpms.org/reporpms/8.4/pgdg-fedora-8.4-2.noarch.rpm</a></p><p>yum install postgresql postgresql-server postgresql-contrib
postgresql-devel</p><p>It is located in /var/lib/pgsql/data This file determines all of the
user permissions for PostgreSQL. To begin with, turn on all of the
permissions contained in this file. This is a temporary measure that
will greatly simplify the installation process. You may lock down these
permissions at a later date. Please consult the PostgreSQL documentation
on how to do this. TACTIC ships with a sample "pg_hba.conf" file
(located in &lt;TACTIC_unzipped_
package&gt;/src/install/postgresql/pg_hba.conf). This file has an open
security setting for ease of installation. It’s best to back up your
current pg_hba.conf file before copying over with the file provided by
TACTIC.</p><p>Restart the PostgreSQL Service</p><p><span class="strong"><strong>Verification</strong></span></p><p>Verify that psql works in the command prompt:</p><pre class="screen">&gt; psql -U postgres template1</pre><p>It should give you a prompt:</p><pre class="screen">template1=#</pre><p>If you see this prompt without the need to enter a password, you have
successfully installed the PostgreSQL database. Type \q to exit.</p><p><span class="strong"><strong>Install Python and supporting modules</strong></span></p><p>The TACTIC source code is written in Python. As such, the complete
codebase is open.</p><p>To install Python, you can find an msi at
<a class="ulink" href="www.python.org" target="_top"><span class="strong"><strong>http://www.python.org</strong></span></a>. TACTIC requires Python 2.6
or higher.</p><p>TACTIC also requires a number of Python modules to function correctly.
These modules are generally not installed by default with the standard
Python distributions. For Windows, they are already packaged in a file
python_modules.zip available for download in the release section of the
downloads page at
<a class="ulink" href="support.southpawtech.com/downloads" target="_top">http://support.southpawtech.com/downloads</a></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
PIL 1.1.7
</p><p class="simpara">(Python Image Library)
* ImageMagick 6.7.8</p><p class="simpara">(A command line program which complements PIL) -</p><p class="simpara"><a class="ulink" href="http://www.imagemagick.org" target="_top">http://www.imagemagick.org</a>
* <span class="strong"><strong>FFmpeg</strong></span> <span class="strong"><strong>version 0.6</strong></span>(Solution to record, convert and stream audio
and video and metadata parsing) -
<a class="ulink" href="www.imagemagick.org" target="_top">http://www.ffmpeg.org</a>
* psycopg2 2.3.1</p><p class="simpara">(Database connectivity)
* PyCrypto version 2.0.1/2.1</p><p class="simpara">(For de-encrypting the license file) -</p><p class="simpara"><a class="ulink" href="http://www.amk.ca/python/code/crypto" target="_top">http://www.amk.ca/python/code/crypto</a>
* simplejson 2.1.1 (not needed since Python 2.6)</p><p class="simpara">simplejson.egg can be installed with the EasyInstaller. It is need for
JSON string encoding and parsing
* lxml 2.1 or 2.2</p><p class="simpara">(XML and XPath processing)</p></li></ul></div><p>Unzip the file in a temporary location.</p><pre class="screen"># cd /tmp
# unzip tactic_#.#.#.#.zip</pre><p>Go to
/tmp/tactic_#../src/install/</p><pre class="screen"># cd /tmp/tactic_#.#.#.#/src/install</pre><p>Execute:
install.py</p><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>Note</strong></span></p><p>You must invoke the installation with root user privileges because it
attempts to write to the &lt;python_install&gt;/site-packages directory.</p></blockquote></div><pre class="screen"># su
# python install.py</pre><p>The installer will ask a number of questions. First it ask for the
&lt;TACTIC_BASE_DIR&gt;:</p><pre class="screen">Please enter the base path of the TACTIC installation:

(/home/apache) -&gt;</pre><p>Enter the user the Apache Web Server is run under.</p><pre class="screen">Please enter the user Apache Web Server is run under:

(apache) -&gt;</pre><p>It would copy the source code to the base path and create a symbolic
link to it. An Apache Web Server file will be generated at the end which
you would need to copy to the Apache config area upon installation of
the web server. If there are existing files in the destination directory
the installer will ask for your confirmation to remove it. At the end,
you will see this:</p><pre class="screen">*** Installation of TACTIC completed at [/home/apache] ***


Next, please install the Apache Web Server and then copy the Apache config extension
[/home/apache/tactic_data/config/tactic.conf] to the Apache web server config area. e.g.
/etc/httpd/conf.d/</pre><p><span class="strong"><strong>Verification</strong></span></p><p>When the installation is completed, an asset directory will be created
at <span class="emphasis"><em>&lt;TACTIC_DATA_DIR&gt;/assets</em></span>.</p><p>The file tactic_paths.py will be created in the following directories:</p><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /><col class="col_2" /></colgroup><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Linux</p></td><td style="" align="left" valign="top"><p>[multiblock cell omitted]</p></td></tr></tbody></table></div><p><span class="strong"><strong>Network machine access</strong></span></p><p>If you are on the server, you can access it by using the URL
<a class="ulink" href="http://localhost/tactic" target="_top">http://localhost/tactic</a>. For other people to access it on the network,
you need to find out its IP address. In a linux server, you can use the
command "ifconfig" to locate it. It’s the one listed as the inet addr.</p><p>Next, you need to run TACTIC behind Apache.</p><p>TACTIC should be run behind an Apache web server. You can download
Apache software at <a class="ulink" href="http://www.apache.org/" target="_top">http://www.apache.org/</a></p><p>The TACTIC application server is able to serve up static content such as
images, PDF files, Quicktime files, and so on, but it is not the most
efficient at this because it is written in Python. This is what Apache
is designed for. By running TACTIC behind Apache, it relieves TACTIC
from serving the static content so that it can focus on the dynamic
content.</p><p>For production use, it is highly recommended that TACTIC is run behind
the Apache server. This has many scalability advantages. When running
behind Apache, Apache uses a reverse proxy and proxy balancer module to
forward requests to communicate with TACTIC.</p><p><span class="strong"><strong>Linux</strong></span></p><p>After the installation, some changes may need to be made in the
"httpd.conf" file for Apache.</p><pre class="screen">Fedora Core: /etc/httpd/conf/httpd.conf</pre><p>Make sure the following lines are uncommented:</p><pre class="screen">LoadModule rewrite_module modules/mod_rewrite.so
LoadModule proxy_module modules/mod_proxy.so
LoadModule proxy_http_module modules/mod_proxy_http.so
LoadModule proxy_balancer_module modules/mod_proxy_balancer.so
LoadModule deflate_module modules/mod_deflate.so</pre><p>These lines may already be uncommented, depending on your distribution
and version of Apache. You need Apache version 2.0.31 or later.</p><p>The TACTIC installer generates an Apache extension conf file on
completion. Copy that file to a directory that is recognized by Apache.</p><p>For Fedora Core: copy the TACTIC generate Apache conf extension file to
the following directory:</p><pre class="screen">/etc/httpd/conf.d/</pre><p>If there is no such configuration extension folder, you must add the
following line to the "httpd.conf" file so that it will read the
extension configuration file provided by the installer:</p><pre class="screen">Include conf/tactic_win32.conf</pre><p><span class="strong"><strong>Web Server configuration</strong></span></p><p>In our provided file:</p><pre class="screen">tactic.conf</pre><p>Make sure the following lines exist:</p><pre class="screen"># Using the ProxyPass directives
ProxyPreserveHost on

&lt;Proxy balancer://tactic&gt;
BalancerMember http://localhost:8081/tactic
BalancerMember http://localhost:8082/tactic
BalancerMember http://localhost:8083/tactic
&lt;/Proxy&gt;
ProxyPass /tactic balancer://tactic
ProxyPass /tactic_data balancer://tactic</pre><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>Note</strong></span></p><p>Warning: For load balancing, only use either:</p><p>\1) the Proxy Balancer method (recommended)</p><p><span class="strong"><strong>or</strong></span></p><p>\2) the RewriteRule method (not recommended).</p><p>Do <span class="strong"><strong>not</strong></span> use both methods at the same time.</p></blockquote></div><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>Note</strong></span></p><p>For configuring load-balancing set-up in a real production, please refer
to the Load Balancing section in the Sys-admin docs.</p></blockquote></div><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>Note</strong></span></p><p>When trying to set up Apache on a Windows Server, to specify a share
folder for Apache to use, you may need to include the name of the share
folder in the path.</p><p>For example, use the following if you have named the share folder
"my_share":</p><pre class="screen">Alias /assets "//10.0.0.17/my_share/assets"</pre></blockquote></div><p>Finally, after verifying the configuration is correct, restart the
Apache service:</p><pre class="screen">service httpd restart</pre><p>Go to the "&lt;TACTIC_INSTALL_DIR&gt;/src/bin" folder</p><p>`cd /home/apache/tactic/src/bin `</p><p>Then su as the user apache is run as:</p><p>su apache</p><p><code class="literal">python startup_dev.py</code></p><p>This "startup_dev.py" script is the development script which will dump
output to the screen. The other startup script "startup.py" is the
production start-up script and will dump output to a log file. The
development start-up script is also much slower as it monitors the file
system to see if any files have changed.</p><p>The output would look like the following:</p><pre class="screen">Registering site ... admin
Registering site ... default
Registering site ... test
Registering site ... my_project

Starting TACTIC ...

05/Jul/2007:11:16:29 CONFIG INFO Server parameters:
05/Jul/2007:11:16:29 CONFIG INFO server.environment: development
05/Jul/2007:11:16:29 CONFIG INFO server.log_to_screen: True
05/Jul/2007:11:16:29 CONFIG INFO server.log_file: D:/tactic_temp/log/tactic_log
05/Jul/2007:11:16:29 CONFIG INFO server.log_tracebacks: True
05/Jul/2007:11:16:29 CONFIG INFO server.log_request_headers: True
05/Jul/2007:11:16:29 CONFIG INFO server.protocol_version: HTTP/1.0
05/Jul/2007:11:16:29 CONFIG INFO server.socket_host:
05/Jul/2007:11:16:29 CONFIG INFO server.socket_port: 8081
05/Jul/2007:11:16:29 CONFIG INFO server.socket_file:
05/Jul/2007:11:16:29 CONFIG INFO server.reverse_dns: False
05/Jul/2007:11:16:29 CONFIG INFO server.socket_queue_size: 10
05/Jul/2007:11:16:29 CONFIG INFO server.thread_pool: 5
05/Jul/2007:11:16:30 HTTP INFO Serving HTTP on http://localhost:8081/</pre><p><code class="literal">http://&lt;TACTIC_server_address&gt;/tactic/admin/</code></p><p>You should see the TACTIC login appear.</p><p><span class="inlinemediaobject"><img src="media/sys-admin-install-tactic-general-loginScreen.png" alt="image" /></span></p><p>There is a default user created on installation. This is the "admin"
user and this user has the ability to see and change all aspects of the
system. Log in as the admin user:</p><p><strong>Note: You may be asked to change your password automatically at startup. </strong>without entering these default credentials.</p><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>user:</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="literal">admin</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>password:</strong></span></p></td><td style="" align="left" valign="top"><p><code class="literal">tactic</code></p></td></tr></tbody></table></div><p>Note: If you have not set up the TACTIC service, refer to the page
"Configure the TACTIC Service".</p><p>First, stop TACTIC running in dev mode if applicable by pressing Ctrl
C in that shell</p><p>In Linux:</p><p><code class="literal">service tactic start</code></p><p>At this point you will need to install a TACTIC license file and then
begin to set up a project.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
For more information on installing the license file, please refer to
the <span class="strong"><strong><a class="ulink" href="#" target="_top">License Installation Documentation</a></strong></span>.
</li><li class="listitem">
For more information on getting started with projects, please refer to
the <span class="strong"><strong><a class="ulink" href="#" target="_top">Sys Admin Project Guides</a></strong></span>.
</li></ul></div><p><span class="strong"><strong>Note on supplementary directories used in TACTIC:</strong></span></p><p>In the config file &lt;TACTIC_DATA_DIR&gt;/config/tactic-conf.xml, you will
find different references to directory under the path /home/apache like
/home/apache/tactic_temp , assets, and handoff. They are there because
/home/apache is the base directory chosen for installation. It could be
different in your case. In the future, you can change their locations by
editing the config file. If the assets directory is changed, ensure it’s
also updated in the Apache Web server config extension tactic.conf.</p><p>To view different information about the system and set-up, you can go to
the Site Admin -→ System Info page. For example, you can verify if
load-balancing is set up and certain key directories are writable by
TACTIC.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
If you see missing images on logging in or errors in the output log
saying certain js files are not found, it means the Apache extension
file tactic.conf is not being referenced or you have not updated the
paths in it to reflect current &lt;TACTIC_INSTALL_DIR&gt;. For example, if
your &lt;TACTIC_INSTALL_DIR&gt; is /home/apache/tactic, you should see the
line in the Apache config extension file tactic.conf:
</p><pre class="screen">Alias /context /home/apache/tactic/src/context</pre><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>Note</strong></span></p><p>Be aware of the slight differences in the naming of the configuration
files:</p><p><span class="strong"><strong>tactic-conf.xml</strong></span>: TACTIC configuration file</p><p><span class="strong"><strong>tactic.conf</strong></span>: Apache configuration file extension</p></blockquote></div></li><li class="listitem"><p class="simpara">
If you try to check in a Preview Image and can’t see the icon
generated, your assets alias in the Apache extension file may not be in
sync with the asset_base_dir in the TACTIC config file tactic-conf.xml
</p><pre class="screen">Alias /assets           /home/apache/assets</pre><p class="simpara">should point to the asset_base_dir as found in tactic-conf.xml</p><pre class="screen">&lt;asset_base_dir&gt;/home/apache/assets&lt;/asset_base_dir&gt;</pre></li><li class="listitem"><p class="simpara">
If you want to re-run install.py, the installation will ask if you to
confirm backing up the sthpw database before dropping it. If you choose
to do it yourself, here is the command:
</p><pre class="screen">pg_dump -c -U postgres sthpw &gt; sthpw_backup.sql
dropdb -U postgres sthpw</pre></li><li class="listitem"><p class="simpara">
If you try to connect to the <a class="ulink" href="http://&lt;server" target="_top">http://&lt;server</a> IP&gt;/tactic and it just
times out, your server firewall could be blocking access. Ensure SELinux
is not enabled as well.
</p><pre class="screen"># to turn off firewall
/etc/init.d/iptables save
/etc/init.d/iptables stop</pre></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_how_to_install_tactic_on_centos_5_4"></a>2.2. How to Install TACTIC on CentOS 5.4</h3></div></div></div><p>Below are the step-by-step instructions of how to install TACTIC on
CentOS 5.4.</p><p><span class="strong"><strong>CentOS 5.4</strong></span></p><p>Unfortunately, CentOS 5.4 comes pre-packaged with an outdated version of
Python: Python 2.4. TACTIC requires Python 2.7.</p><p>To get around this, when we install Python 2.7, we do not overwrite the
original Python 2.4. See steps #8 and #9.</p><p>Overwritting the original Python would break some software packages,
such as Yum.</p><p>We must remember to call Python2.7 explicitly whenever we run any TACTIC
python scripts, including startup.py</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
Log in as the root user.
</li><li class="listitem"><p class="simpara">
Open the passwd file.
</p><pre class="screen">vi /etc/passwd</pre><p class="simpara">Modify the apache home directory and login shell to look like the
following:</p><pre class="screen">apache:x:48:48:Apache:/home/apache:/bin/bash</pre></li><li class="listitem"><p class="simpara">
Set password for apache to: south123paw
</p><pre class="screen">passwd apache</pre></li><li class="listitem"><p class="simpara">
Open to the sudoers file.
</p><pre class="screen">visudo</pre><p class="simpara">Add the apache user by including the following line in the appropriate
location in the file:</p><pre class="screen">apache ALL=(ALL) ALL</pre></li><li class="listitem"><p class="simpara">
Create the home directory for apache.
</p><pre class="screen">mkdir /home/apache
chown apache:apache /home/apache
chmod a+rx /home/apache</pre></li><li class="listitem"><p class="simpara">
Disable SElinux.
</p><pre class="screen">vi /etc/selinux/config</pre></li><li class="listitem"><p class="simpara">
Install modules.
</p><pre class="screen">yum install -y gcc zlib-devel samba libxslt-devel libxml2-devel postgresql-server postgresql-devel</pre></li><li class="listitem"><p class="simpara">
Install Python 2.7.
</p><pre class="screen">cd; wget http://www.python.org/ftp/python/2.7.1/Python-2.7.1.tgz
tar zxvf Python-2.7.1.tgz
cd Python-2.7.1
./configure -with-zlib=/usr/include
make install</pre></li><li class="listitem"><p class="simpara">
Installing Python 2.7 will install python2.7 command "ahead" of the
original python so that "python" from the command line is now 2.7. This
will break yum. To fix this, remove the python executable for 2.7.
</p><pre class="screen">rm /usr/local/bin/python</pre></li><li class="listitem">
Restart the shell so that the environment is clean.
</li><li class="listitem"><p class="simpara">
Install lxml.
</p><pre class="screen">cd; wget http://codespeak.net/lxml/lxml-2.2.8.tgz
tar zxvf lxml-2.2.8.tgz
cd lxml-2.2.8
python2.7 setup.py install</pre></li><li class="listitem"><p class="simpara">
Install PIL.
</p><pre class="screen">cd; wget http://effbot.org/downloads/Imaging-1.1.7.tar.gz
tar zxvf Imaging-1.1.7.tar.gz
cd Imaging-1.1.7
python2.7 setup.py install</pre></li><li class="listitem"><p class="simpara">
Install psycopg2.
</p><pre class="screen">cd; wget http://pypi.python.org/packages/source/p/psycopg2/psycopg2-2.3.2.tar.gz
tar zxvf psycopg2-2.3.2.tar.gz
cd psycopg2-2.3.2
python2.7 setup.py install</pre></li><li class="listitem"><p class="simpara">
Install PyCrypto.
</p><pre class="screen">cd; wget http://pypi.python.org/packages/source/p/pycrypto/pycrypto-2.3.tar.gz
tar zxvf pycrypto-2.3.tar.gz
cd pycrypto-2.3
python2.7 setup.py install</pre></li><li class="listitem"><p class="simpara">
Disable firewall.
</p><pre class="screen">/etc/init.d/iptables save
/etc/init.d/iptables stop</pre></li><li class="listitem"><p class="simpara">
Create and open the index.html for redirection.
</p><pre class="screen">vi /var/www/html/index.html</pre><p class="simpara">Insert the following contents:</p><pre class="screen">&lt;META http-equiv="refresh" content="0;URL=/tactic"&gt;</pre></li><li class="listitem">
Re-login as the apache user.
</li><li class="listitem"><p class="simpara">
Download the TACTIC source code and setup the service.
</p><p class="simpara">Open the following link in a web browser</p><pre class="screen">http://support.southpawtech.com/download</pre><p class="simpara">Setup the TACTIC service.</p><pre class="screen">cd /tmp
unzip tactic_#.#.#.#.zip
sudo cp /tmp/tactic_#.#.#.#/src/install/service/tactic /etc/init.d
sudo chmod 775 /etc/init.d/tactic
sudo /sbin/chkconfig tactic on</pre></li><li class="listitem"><p class="simpara">
Setup Postgres.
</p><pre class="screen">sudo /etc/init.d/postgresql start
sudo cp /tmp/tactic_#.#.#.#/src/install/postgresql/pg_hba.conf /var/lib/pgsql/data
sudo chown postgres:postgres /var/lib/pgsql/data/pg_hba.conf
sudo /sbin/chkconfig postgresql on
sudo /etc/init.d/postgresql restart</pre></li><li class="listitem"><p class="simpara">
Setup Apache.
</p><pre class="screen">sudo cp /home/apache/tactic_data/config/tactic.conf /etc/httpd/conf.d/
sudo /sbin/chkconfig httpd on
sudo /etc/init.d/httpd start</pre></li><li class="listitem"><p class="simpara">
Install TACTIC.
</p><pre class="screen">cd /tmp/tactic_#.#.#.#/src/install
sudo python2.7 install.py
sudo /sbin/chkconfig tactic on
sudo chown -R apache:apache /home/apache/tactic /home/apache/assets /home/apache/tactic_data /home/apache/tacticTemp</pre></li><li class="listitem"><p class="simpara">
Upgrade the database.
</p><pre class="screen">python2.7 /home/apache/tactic/src/bin/upgrade_db.py</pre></li><li class="listitem"><p class="simpara">
Startup TACTIC in dev mode.
</p><pre class="screen">python2.7 /home/apache/tactic/src/bin/startup_dev.py</pre></li><li class="listitem">
Try accessing TACTIC through a web browser on a client machine.
</li><li class="listitem"><p class="simpara">
Once startup_dev works, Ctrl^C out of the process.
</p><pre class="screen">Ctrl^C</pre></li><li class="listitem"><p class="simpara">
Open the TACTIC service file for edit.
</p><pre class="screen">sudo vi /etc/init.d/tactic</pre><p class="simpara">Modify the variable for PYTHON as follows:</p><pre class="screen">PYTHON=/usr/local/bin/python2.7</pre></li><li class="listitem"><p class="simpara">
Open the TACTIC configuration file for edit.
</p><pre class="screen">vi /home/apache/tactic_data/config/tactic_linux-conf.xml</pre><p class="simpara">Modify the option variable for python as follows:</p><pre class="screen">&lt;python&gt;/usr/local/bin/python2.7&lt;/python&gt;</pre></li><li class="listitem"><p class="simpara">
Start TACTIC as a service.
</p><pre class="screen">sudo /etc/init.d/tactic start</pre></li></ol></div><p>End of installation instructions.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_tactic_install_centos_5_5"></a>2.3. TACTIC Install - CentOS 5.5</h3></div></div></div><p>Below are the step-by-step instructions of how to install TACTIC on
CentOS 5.5. For CentOS 6.2 and above, please refer to the TACTIC Install
- CentOS 6.2 page.</p><p><span class="strong"><strong>CentOS 5.5</strong></span></p><p>Unfortunately, CentOS 5.5 comes pre-packaged with an outdated version of
Python: Python 2.4. TACTIC requires Python 2.7.</p><p>To get around this, when we install Python 2.7, we do not overwrite the
original Python 2.4. See steps #8 and #9.</p><p>Overwritting the original Python would break some software packages,
such as Yum.</p><p>We must remember to call Python2.7 explicitly whenever we run any TACTIC
python scripts, including startup.py</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
Log in as the root user.
</li><li class="listitem"><p class="simpara">
Open the passwd file.
</p><pre class="screen">vi /etc/passwd</pre><p class="simpara">Modify the apache home directory and login shell to look like the
following:</p><pre class="screen">apache:x:48:48:Apache:/home/apache:/bin/bash</pre></li><li class="listitem"><p class="simpara">
Set password for apache to: south123paw
</p><pre class="screen">passwd apache</pre></li><li class="listitem"><p class="simpara">
Open to the sudoers file.
</p><pre class="screen">visudo</pre><p class="simpara">Add the apache user by including the following line in the appropriate
location in the file:</p><pre class="screen">apache ALL=(ALL) ALL</pre></li><li class="listitem"><p class="simpara">
Create the home directory for apache.
</p><pre class="screen">mkdir /home/apache
chown apache:apache /home/apache
chmod a+rx /home/apache</pre></li><li class="listitem"><p class="simpara">
Disable SElinux by setting SELINUX=disabled
</p><pre class="screen">vi /etc/selinux/config</pre></li><li class="listitem"><p class="simpara">
Remove the existing Postgres and Install Postgres 8.4 modules.
</p><pre class="screen">yum remove postgresql postgresql-libs postgresql-server

vi /etc/yum.repos.d/CentOS-Base.repo
Add the exclude line to the 2 section base and updates:

[base]
exclude=postgresql*
[updates]
exclude=postgresql*

rpm -Uvh http://yum.pgrpms.org/reporpms/8.4/pgdg-centos-8.4-2.noarch.rpm
yum install -y postgresql postgresql-server postgresql-contrib
yum install -y postgresql-devel
yum install -y gcc zlib-devel samba libxslt-devel libxml2-devel</pre></li><li class="listitem"><p class="simpara">
Install Python 2.7.
</p><pre class="screen">cd; wget http://www.python.org/ftp/python/2.7.1/Python-2.7.1.tgz
tar zxvf Python-2.7.1.tgz
cd Python-2.7.1
./configure -with-zlib=/usr/include
make install</pre></li><li class="listitem"><p class="simpara">
Installing Python 2.7 will install python2.7 command "ahead" of the
original python so that "python" from the command line is now 2.7. This
will potentially break yum or other OS admin tools. To fix this, remove
the python executable for 2.7.
</p><pre class="screen">rm /usr/local/bin/python</pre></li><li class="listitem">
Restart the shell so that the environment is clean.
</li><li class="listitem"><p class="simpara">
Install lxml.
</p><pre class="screen">cd; wget http://codespeak.net/lxml/lxml-2.2.8.tgz
tar zxvf lxml-2.2.8.tgz
cd lxml-2.2.8
python2.7 setup.py install</pre></li><li class="listitem"><p class="simpara">
Install PIL.
</p><pre class="screen">cd; wget http://effbot.org/downloads/Imaging-1.1.7.tar.gz
tar zxvf Imaging-1.1.7.tar.gz
cd Imaging-1.1.7
python2.7 setup.py install</pre></li><li class="listitem"><p class="simpara">
Install psycopg2.
</p><pre class="screen">cd; wget http://pypi.python.org/packages/source/p/psycopg2/psycopg2-2.3.2.tar.gz
http://initd.org/psycopg/tarballs/PSYCOPG-2-3/psycopg2-2.3.1.tar.gz
tar zxvf psycopg2-2.3.2.tar.gz
cd psycopg2-2.3.2
python2.7 setup.py install</pre></li><li class="listitem"><p class="simpara">
Install PyCrypto.
</p><pre class="screen">cd; wget http://pypi.python.org/packages/source/p/pycrypto/pycrypto-2.3.tar.gz
tar zxvf pycrypto-2.3.tar.gz
cd pycrypto-2.3
python2.7 setup.py install</pre></li><li class="listitem"><p class="simpara">
Disable firewall.
</p><pre class="screen">/etc/init.d/iptables save
/etc/init.d/iptables stop</pre></li><li class="listitem"><p class="simpara">
Create and open the index.html for redirection.
</p><pre class="screen">vi /var/www/html/index.html</pre><p class="simpara">Insert the following contents:</p><pre class="screen">&lt;META http-equiv="refresh" content="0;URL=/tactic"&gt;</pre></li><li class="listitem">
Re-login as the apache user.
</li><li class="listitem"><p class="simpara">
Download the TACTIC source code
</p><p class="simpara">Open the following link in a web browser and download the latest TACTIC
Enterprise release.</p><pre class="screen">http://community.southpawtech.com/downloads</pre><p class="simpara">Set up the TACTIC service.</p><pre class="screen">cd /tmp
unzip tactic_#.#.#.#.zip

sudo cp /tmp/tactic_#.#.#.#/src/install/service/tactic/etc/init.d
sudo chmod 775 /etc/init.d/tactic
sudo /sbin/chkconfig tactic on</pre></li><li class="listitem"><p class="simpara">
Set up Postgres.
</p><pre class="screen">sudo service postgresql initdb
sudo /etc/init.d/postgresql start

sudo mv /var/lib/pgsql/data/pg_hba.conf /var/lib/pgsql/data/pg_hba.conf.bak
sudo cp /tmp/tactic_#.#.#.#/src/install/postgresql/pg_hba.conf /var/lib/pgsql/data
sudo chown postgres:postgres /var/lib/pgsql/data/pg_hba.conf
sudo /sbin/chkconfig postgresql on
sudo /etc/init.d/postgresql restart</pre></li><li class="listitem"><p class="simpara">
Install TACTIC. You will be asked to enter a base directory for
installation. We call this &lt;TACTIC_BASE_DIR&gt;
</p><pre class="screen">cd /tmp/tactic_#.#.#.#/src/install
sudo python2.7 install.py
sudo /sbin/chkconfig tactic on</pre></li><li class="listitem"><p class="simpara">
Set up Apache. Copy the tactic.conf generated by the TACTIC
Installer.
</p><pre class="screen">sudo cp  &lt;TACTIC_BASE_DIR&gt;/tactic_data/config/tactic.conf /etc/httpd/conf.d/
sudo /sbin/chkconfig httpd on
sudo /etc/init.d/httpd start</pre></li><li class="listitem"><p class="simpara">
Startup TACTIC in dev mode.
</p><pre class="screen">python2.7 /home/apache/tactic/src/bin/startup_dev.py</pre></li><li class="listitem">
Try accessing TACTIC through a web browser on a client machine.
<a class="ulink" href="http://&lt;server" target="_top">http://&lt;server</a> IP&gt;/tactic
</li><li class="listitem"><p class="simpara">
Once startup_dev works, Ctrl^C out of the process.
</p><pre class="screen">Ctrl^C</pre></li><li class="listitem"><p class="simpara">
Open the TACTIC service file for edit.
</p><pre class="screen">sudo vi /etc/init.d/tactic</pre><p class="simpara">Modify the variable for PYTHON as follows:</p><pre class="screen">PYTHON=/usr/local/bin/python2.7</pre></li><li class="listitem"><p class="simpara">
Open the TACTIC configuration file for edit.
</p><pre class="screen">vi  &lt;TACTIC_BASE_DIR&gt;/tactic_data/config/tactic_linux-conf.xml</pre><p class="simpara">Modify the option variable for python as follows:</p><pre class="screen">&lt;python&gt;/usr/local/bin/python2.7&lt;/python&gt;</pre></li><li class="listitem"><p class="simpara">
Start TACTIC as a service and install the license in a Java-enabled
browser.
</p><pre class="screen">sudo /etc/init.d/tactic start</pre></li><li class="listitem">
To view different information about the system and set-up, you can
go to the Site Admin -→ System Info page. For example, you can verify
if load-balancing is set up and certain key directories are writable by
TACTIC.
</li></ol></div><p>End of installation instructions.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_tactic_install_centos_5_7"></a>2.4. TACTIC Install - CentOS 5.7</h3></div></div></div><p>CentOS 5.5 has now been deprecated in favour of CentOS 5.7 or CentOS
6.0. Since CentOS 5.5 will no longer receive updates and we urge you to
consider using a more up to date version of the operating system such as
CentOS 5.7.</p><p>For CentOS 6.2 and above, please refer to the TACTIC Install - CentOS
6.2 page. Step-by-step instructions for Tactic 3.6.0.v01 are provided
below.</p><p><span class="strong"><strong>Requirements</strong></span></p><p>Tactic requires the following software to be installed:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Apache HTTP server 2.2
</li><li class="listitem">
Postgres Database Server 8.4 or higher
</li><li class="listitem"><p class="simpara">
Python 2.7 and the following Python modules:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Python Imaging Library 1.1.7
</li><li class="listitem">
Python lxml 2.2.8
</li><li class="listitem">
Pycrypto 2.3
</li><li class="listitem">
Psycopg2 2.3.2
</li></ul></div></li></ul></div><p>It should be noted that while there may be newer versions of these
Python modules, Tactic 3.6.0.v01 is built with these particular versions
and may not work as intended should you use later versions.</p><p><span class="strong"><strong>Disabling Security for Testing</strong></span></p><p>For the sake of getting Tactic up quickly without a large amount of
fuss, it is prudent to disable firewalling and SELinux. This is by no
means an endorsement to run your server without these services. Once you
have Tactic up and running we encourage you to read the section &lt;TACTIC
SECURITY&gt;.</p><p>CentOS 5.7 uses the iptables service as a firewall. To disable this
temporarily you can issue the following commands as root.</p><pre class="screen">/etc/init.d/iptables save
/etc/init.d/iptables stop</pre><p>This will disable the firewall for the currently running CentOS session.
Should you wish these settings to persist across reboots. You can issue
the following command as root.</p><pre class="screen">/sbin/chkconfig iptables off</pre><p>To disable SELinux, edit the file /etc/selinux/config as root with your
favourite editor and set the SELINUX variable to <span class="emphasis"><em>disabled</em></span>.</p><pre class="screen">SELINUX=disabled</pre><p>Getting this setting to take effect requires a reboot.</p><p><span class="strong"><strong>Installing Apache HTTP server</strong></span></p><p>To install Apache 2.2 on CentOS 5.7 issue the following command as root:</p><pre class="screen">yum install httpd</pre><p>This package has several dependencies and they should be installed as
well.</p><p>It would be good to familarize yourself with some of the more pertinent
paths in the Apache installation on CentOS5.7. We’ve listed them below
for your convenience.</p><p><span class="strong"><strong>Apache 2.2 paths</strong></span></p><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>/etc/httpd/conf/httpd.conf</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Path to the main Apache configuration file.</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>/etc/httpd/conf.d/</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Path to the Apache dynamic configuration directory.</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>/var/log/httpd/error.log</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Path the the Apache error log.</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>/var/www/html</p></td><td style="" align="left" valign="top"><p>Path to the Document Root folder of the base Apache
install.</p></td></tr></tbody></table></div><p>It’s best to test your Apache install at this point. The included main
Apache configuration file is enough to get the server started. You will
need create a small html file to do this. Using your favourite editor
create a file called index.html, including the following contents:</p><pre class="screen">&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Apache Base Install&lt;/title&gt;
  &lt;/head&gt;
&lt;body&gt;
   &lt;p&gt;Apache Install Successful&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</pre><p>Save the file in /var/www/html and issue the following command as root
to ensure proper permissions are set.</p><pre class="screen">chmod 755 /var/www/html/index.html</pre><p>Now we can start the Apache server itself. As root issue the following
command.</p><pre class="screen">/etc/init.d/httpd start</pre><p>The service should start successfully. If it does not consult the Apache
error log listed above to discover any problems that may have occured.</p><p>At last we should now be able to point a web browser to the IP address
associated with the server. If you see the text "Apache Install
Successful", then your server is up and running and server pages
properly.</p><p>Finally we will want the Apache service to persist through reboots. As
root issue the following command:</p><pre class="screen">/sbin/chkconfig httpd on</pre><p>Then reboot the server and make sure that httpd comes up on reboot and
that you can view the test page properly. Later in the install we will
configure the Apache server to interact with Tactic properly.</p><p><span class="strong"><strong>Installing Postgres Database Server</strong></span></p><p>CentOS 5.7 repositories use Postgres version 8.1.23-1. However Tactic
requires version 8.4 or higher. First we must make sure that we didn’t
include the default version Postgres in our base install. As root please
issue the following command:</p><pre class="screen">rpm -qva | grep -i postgres</pre><p>This command will search your installed packages and filter the output
for any packages containing the work postgres. If you receive any output
from this command please uninstall the packages by issuing the following
command:</p><pre class="screen">rpm -e &lt;package_name&gt;</pre><p>Where &lt;package_name&gt; is the name of the package you wish to uninstall.
Consult the RPM or Yum manpages for further instructions on installing
and uninstalling packages.</p><p>Lastly before installing any new Postgres repository, we want to make
sure to exclude the default version of Postgres from showing up in the
base and update Yum repositories included with the operating system
itself. Using your favourite editor, edit the file
/etc/yum.repos.d/CentOS-Base.repo to include the line:</p><pre class="screen">exclude=postgresql*</pre><p>Under both the [base] section and the [updates] section of the file.
Save the file. For more information on the Yum installer and repository
system please see the manpages for yum or the yum website
<a class="ulink" href="http://yum.baseurl.com" target="_top">http://yum.baseurl.com</a></p><p>Once we have uninstalled any previous versions of Postgres, we can then
proceed installing a new Yum repository that contains the version of
Postgres we want to install. As root issue the following commands:</p><pre class="screen">cd /tmp
wget http://yum.pgrpms.org/9.1/redhat/rhel-5-i386/pgdg-centos-91-9.1-4.noarch.rpm
rpm -Uvh pgdg-centos-91-9.1-4.noarch.rpm</pre><p>At the time of writing the current version of Postgres was 9.1-4, for
more current installation versions please visit
<a class="ulink" href="http://yum.pgrpms.org/repopackages.php" target="_top">http://yum.pgrpms.org/repopackages.php</a> and view the available repository
RPMs for your operating system and architecture.</p><p>Lastly we will install the proper Postgres version 9.1 RPMs. As root
issue the following command:</p><pre class="screen">yum install postgresql91 postgresql91-server postgresql91-devel</pre><p>Now that Postgres is installed we will do some basic configuration and
testing to make sure our installation is ready for use with Tactic.</p><p>Again we should first familiarize ourselves with the pertinent Postgres
file paths that will be used throughout the install:</p><p><span class="strong"><strong>Common Paths in Postgres 9.1 on CentOS 5.7</strong></span></p><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>/var/lib/pgsql/9.1</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Path to the main Postgres directory.</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>/var/lib/pgsql/data/pg_hba.conf</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Path to the host based authentication
file for Postgres.</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>/var/lib/pgsql/9.1/pgstartup.log</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Path to the Postgres startup log.</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>/var/lib/pgsql/9.1/data/pg_log</p></td><td style="" align="left" valign="top"><p>Path to Postgres database logs.</p></td></tr></tbody></table></div><p>If you have used the base postgresql-server install before you will
notice that the above paths are slightly different than the usual paths
used on CentOS. This install also varies from the base install in that
the user must manually initialize the databases used by Postgres. To do
this issue the following command as root:</p><pre class="screen">/etc/init.d/postgresql-91 initdb</pre><p>Once that command successfully completes we can then start the service.
As root issue the following command:</p><pre class="screen">/etc/init.d/postgresql-91 start</pre><p>If the service starts successfully we can move forward. If not please
view any startup errors in the Postgres startup log. Further
troubleshooting help can be found at <a class="ulink" href="http://postgresql.org" target="_top">http://postgresql.org</a>,</p><p>Lastly we will want to make sure the Postgres service persists through
reboots. As root issue the following command:</p><pre class="screen">/sbin/chkconfig postgresql-91 on</pre><p>Reboot your server to ensure the service comes up appropriately.</p><p><span class="strong"><strong>Installing Python 2.7</strong></span></p><p>As noted above Tactic requires version 2.7 of Python. CentOS comes with,
and depends on an earlier version of Python. This means we simply can’t
remove Python from the system as we did with Postgres. We have to create
a custom Python 2.7 install and keep it seperate from the base install.</p><p>First we need to install some development libraries and a compiler. As
root issue the following command:</p><pre class="screen">yum install gcc zlib-devel libxslt-devel libxml2-devel</pre><p>Once those are installed we can get Python 2.7, as root issue the
following command:</p><pre class="screen">cd /tmp
wget http://www.python.org/ftp/python/2.7.1/Python-2.7.1.tgz
tar -zxvf Python-2.7.1.tgz
cd Python-2.7.1
./configure --prefix=/opt/python2.7
make &amp;&amp; make install</pre><p>This will install Python 2.7 in the custom path /opt/python2.7. You can
choose a different custom install directory should you choose.</p><p><span class="strong"><strong>Installing Python 2.7 Modules</strong></span></p><p>Next we will install the necessary Python 2.7 modules. These provide
extended functionality to the Python environment. Before we begin
however we will have to set an environment variable such that the Python
2.7 modules we are installing can find their link dependencies. In the
BASH shell environment as root issue the following command:</p><pre class="screen">export LD_LIBRARY_PATH=/opt/python2.7/lib</pre><p>This will prefix your link dependency library path with our custom
python libaries ensuring they get precedence in the installation of the
modules. This environment variable only exists for the current shell
environment. Any new shells you open will need to have this variable set
as well. We will institute a permanent solution to this problem later.</p><p><span class="strong"><strong>Installing lxml 2.2.8</strong></span></p><p>Tactic requires lxml version 2.2.8. At the time of writing Tactic
encountered errors running with lxml 2.3 installed. Please make sure you
install lxml 2.2x. Installation and setup for each module is almost the
same. As root issue the following commands</p><pre class="screen">cd /tmp
wget http://codespeak.net/lxml/lxml-2.2.8.tgz
tar -zxvf lxml-2.2.8.tgz
cd lxml-2.2.8
/opt/python/bin/python2.7 setup.py install</pre><p>We have used the location of our custom installed python binary in the
last line, if you have chosen a different install location use it
instead.</p><p>Verify the installation by running your custom python binary and trying
to import the module. As root issue the following command:</p><pre class="screen">/opt/python2.7/bin/python2.7</pre><p>You should receive a python environment and prompt similar to this:</p><pre class="screen">Python 2.7.1 (r271:86832, Apr 12 2011, 16:16:18)
[GCC 4.1.2 20080704 (Red Hat 4.1.2-51)] on linux2
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt;</pre><p>At the prompt please type the following:</p><pre class="screen">import lxml</pre><p>If you receive another prompt and no error occurs, the import was
successful and lxml is installed. We will use the same procedure to
check the veracity of our other modules installations as well.</p><p><span class="strong"><strong>Installing Python Imaging Library 1.1.7</strong></span></p><p>We follow the same procedure to install the Python Imaging Library. As
root issue the following commands:</p><pre class="screen">cd /tmp
wget http://effbot.org/downloads/Imaging-1.1.7.tar.gz
tar -zxvf Imaging-1.1.7.tar.gz
cd Imaging-1.1.7
/opt/python2.7/bin/python2.7 setup.py install</pre><p>Check the installation of the module by loading python and issuing the
following command at the python prompt.</p><pre class="screen">import PIL</pre><p><span class="strong"><strong>Installing Pycrypto 2.3</strong></span></p><p>The installation of Pycrypto also follows this template. As root issue
the following commands:</p><pre class="screen">cd /tmp
wget http://pypi.python.org/packages/source/p/pycrypto/pycrypto-2.3.tar.gz
tar -zxvf pycrypto-2.3.tar.gz
cd pycrypto-2.3
/opt/python2.7/bin/python2.7 setup.py install</pre><p>Check the installation of the module by loading python and issuing the
following command at the python prompt.</p><pre class="screen">import Crypto</pre><p><span class="strong"><strong>Installing Psycopg2 2.3.2</strong></span></p><p>Psycopg2 is a Postgres database adapter for Python. The install is akin
to the previous 3 except that since we’ve customized our Postgres
install, we have to let Psycopg2 know that as well. First lets get the
package and uncompress it. As root issue the following:</p><pre class="screen">cd /tmp
wget http://pypi.python.org/packages/source/p/psycopg2/psycopg2-2.3.2.tar.gz
tar -zxvf psycopg2-2.3.2.tar.gz
cd psycopg2-2.3.2</pre><p>Now we have to modify the pg_config variable in the file setup.cfg.
Using your favourite editor open /tmp/psycopg2-2.3.2/setup.cfg and edit
the pg_config entry to match the following:</p><pre class="screen">pg_config=/usr/pgsql-9.1/bin/pg_config</pre><p>Now we should be able to install Psycopg2 properly. As root issue the
following command:</p><pre class="screen">/opt/python2.7/bin/python2.7 setup.py install</pre><p>Check the installation of the module by loading python and issuing the
following command at the python prompt.</p><pre class="screen">import psycopg2</pre><p>Now that all the Tactic components are installed, we can begin
installing Tactic itself.</p><p><span class="strong"><strong>Installing Tactic 3.6.0.v01</strong></span></p><p>First we have to download the Tactic source from the Southpaw Community
website. Using a web browser navigate to
<a class="ulink" href="http://community.southpawtech.com" target="_top">http://community.southpawtech.com</a> and login using the support account
you were assigned. After you have logged in, please click on "Downloads"
in the upper right hand corner of the website. Once you are on the
downloads page, you should see the download link for TACTIC Enterprise.
Save the TACTIC Enterprise zip file in /tmp on the server.</p><p>Once we have the Tactic source we need to unpack it. As root issue the
following commands:</p><pre class="screen">cd /tmp
unzip tactic-3.6.0.v01.zip</pre><p>Once the Tactic source is unpacked, you should familarize yourself with
the Tactic directory structure. The prefix of the paths will change
during install, however the directory structure will remain the same.</p><p><span class="strong"><strong>Common Paths in Tactic 3.6.0.v01</strong></span></p><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>/tmp/tactic-3.6.0.v01/doc</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Path to the Tactic documentation.</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>/tmp/tactic-3.6.0.v01/src</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Path to the Tactic source files.</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>/tmp/tactic-3.6.0.v01/src/install</p></td><td style="" align="left" valign="top"><p>Path to the Tactic install script
and configuration files for Tactic dependencies.</p></td></tr></tbody></table></div><p>Before we run the Tactic installer, we must further configure Postgres
to ensure proper installation of Tactic.</p><p><span class="strong"><strong>Configuring Postgres</strong></span></p><p>Tactic supplies a custom host based authentication file for Postgres.
After stopping the Postgres service we will install the file in
question, restart the service and verify that the configuration has been
properly put in place. As root issue the following commands:</p><pre class="screen">/etc/init.d/postgresql-9.1 stop
mv /var/lib/pgsql/9.1/data/pg_hba.conf /var/lib/pgsql/9.1/data/pg_hba.conf.INSTALL
cp /tmp/tactic-3.6.0.v01/src/install/postgresql/pg_hba.conf /var/lib/pgsql/9.1/data/pg_hba.conf
chown postgres:postgres /var/lib/pgsql/9.1/data/pg_hba.conf
/etc/init.d/postgresql-9.1 start</pre><p>If the service starts successfully we can then move onto testing. If not
please consult the Postgres startup log for error information. Postgres
must be running as a service during the Tactic install. Next we will
test the install, as root issue the following commands:</p><pre class="screen">psql -U postgres template1</pre><p>This command should return you to a prompt like this one:</p><pre class="screen">template1=#</pre><p>If you are not prompted for a password and, see this prompt, then the
configuration changes have been successful. Type \q to exit.</p><p><span class="strong"><strong>Installing Tactic</strong></span></p><p>We are now ready to run the Tactic installer. The installer doesn’t know
about our custom Python installation location though, so we have edit
the install.py file. Using your favorite editor, edit the file
/tmp/tactic-3.6.0.v01/src/install/install.py.</p><p>Find the following line in the file:</p><pre class="screen">python_site_packages_dir = "/usr/local/lib/python%s.%s/site-packages"</pre><p>Replace it with the following line:</p><pre class="screen">python_site_packages_dir = "/opt/python2.7/lib/python%s.%s/site-packages"</pre><p>Save the file. We will test this by running the installer. Make sure you
are using a shell with the LD_LIBRARY_PATH set as mentioned in the
"Installing Python 2.7 Modules" section. As root issue the following
command:</p><pre class="screen">/opt/python2.7/bin/python2.7 /tmp/tactic-3.6.0.v01/src/install/install.py</pre><p>The installer will ask you a number of questions. You should be prompted
by the following:</p><pre class="screen">Please enter the base path of the TACTIC installation:

(/home/apache) -&gt; /opt/tactic</pre><p>Choose your custom Tactic path, this will be the base directory for your
Tactic installation. We have chosen /opt/tactic. Next you will be asked
to identify the user used to run the Apache service.</p><pre class="screen">Please enter the user Apache Web Server is run under:

(apache) -&gt;</pre><p>In many cases the default user "apache" is correct. However you can
verify this easily in another shell by issuing the following command as
root:</p><pre class="screen">ps -ef | grep httpd</pre><p>The first column of output is the username Apache is running under.
Should you receive no output, make sure your httpd service is running.
Under CentOS 5.7 the apache user is "apache" so we will accept the
default the installer gives us.</p><p>The installer will then install the Tactic databases, configure Tactic
and copy the source code into the Tactic base directory.</p><p><span class="strong"><strong>Configuring Apache</strong></span></p><p>Lastly Tactic requires us to install the custom Apache configuration
file it has created during the installation process. As root issue the
following commands:</p><pre class="screen">cp /opt/tactic/tactic_data/config/tactic.conf /etc/httpd/conf.d</pre><p>To test this we should first verify that /etc/httpd/conf.d is an
included module path in the main Apache configuration file. As root
issue the following command:</p><pre class="screen">cat /etc/httpd/conf/httpd.conf | grep conf.d</pre><p>If you receive the following as output we have installed the Tactic
Apache configuration file correctly.</p><pre class="screen">Include conf.d/*.conf</pre><p>If you do not receive this output, using your favourite editor as root
edit the file /etc/httpd/conf/httpd.conf and at the bottom of the file
insert the statement listed above. Save the file.</p><p>Lastly we will create a redirect for Tactic using the index.html file at
the document root of the Apache server. Using your favourite editor as
root, edit the file /var/www/html/index.html to contain only the
following line:</p><pre class="screen">&lt;META http-equiv="refresh" content="0;URL=/tactic"&gt;</pre><p>Restart the Apache service to make sure the configuration hasn’t caused
any problems. As root issue the following command:</p><pre class="screen">/etc/init.d/httpd restart</pre><p>Lastly we need to ensure that the Apache server has loaded the modules
needed for proxying and load balancing the Tactic service. As root issue
the following command:</p><pre class="screen">/usr/sbin/httpd -t -D DUMP_MODULES</pre><p>In the resulting output look for the following modules:</p><pre class="screen">rewrite_module (shared)
proxy_module (shared)
proxy_http_module (shared)
proxy_balancer_module (shared)
deflate_module (shared)</pre><p>The CentOS 5.7 install of Apache includes a large array of modules
enabled by default, including the ones required by Tactic.</p><p><span class="strong"><strong>Starting Tactic in Development Mode</strong></span></p><p>We are now prepared to start the Tactic service for the first time.
Tactic must be run as the Apache user. Usually we would su to the apache
user, however since its a system account without a login this will not
work without optionally telling su to give the Apache user a shell
environment. In a shell with the LD_LIBRARY_PATH set as laid out in the
section "Installing Python 2.7 Modules", as root issue the following
command:</p><pre class="screen">su apache -s /bin/bash -c "/opt/python2.7/bin/python2.7 /opt/tactic/tactic/src/bin/startup_dev.py"</pre><p>You should see the following output:</p><pre class="screen">Registering site ... admin
Registering site ... sthpw
Registering site ... default

Starting TACTIC ...

Starting Scheduler ....
[08/Nov/2011:23;13:20] ENGINE Bus STARTING
[08/Nov/2011:23;13:20] ENGINE Started monitor thread '_TimeoutMonitor'.
[08/Nov/2011:23;13:20] ENGINE Started monitor thread 'Autoreloader'
[08/Nov/2011:23;13:21] ENGINE Serving on 127.0.0.1:8081
[08/Nov/2011:23;13:21] ENGINE Bus STARTED</pre><p>You should now be able to navigate a web browser to
<a class="ulink" href="http://localhost/tactic/admin" target="_top">http://localhost/tactic/admin</a>. Alternatively use the non-local IP
address or fully qualified domain name you have assigned to your Tactic
server in place of localhost. You should see the Tactic login screen.</p><p>Tactic defines an administrative user by default. The login information
is:Use</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
Username: admin; Password: (set it on your first login)
</span></dt><dd>
In 3.9, the login screen requires you to change the password
immediately. You will have to type it in twice to confirm.
</dd></dl></div><p><span class="strong"><strong>Installing Tactic as a Service</strong></span></p><p>You can use the key combination CTRL+c in the shell running the Tactic
Development mode service to stop it when you are ready</p><p>The Tactic service file is simple to install, however due to the custom
Python pathing we have used we have edit the Tactic service file to
reflect those changes. As root, using your favourite editor open the
file /opt/tactic/tactic/src/install/service/tactic and make the
following changes.</p><p>The Python environment variable PYTHON should be set to the path of our
custom Python binary.</p><pre class="screen">PYTHON=/opt/python2.7/bin/python2.7</pre><p>Additionally we want to setup the LD_LIBRARY_PATH variable to include
our custom Python libraries. Under the following line:</p><pre class="screen">export PYTHON</pre><p>Add the following lines to the file:</p><pre class="screen">LD_LIBRARY_PATH=/opt/python2.7/lib
export LD_LIBRARY_PATH</pre><p>Lastly, Tactic startup uses the same mechanism as Developer mode,
however this is not yet reflected in the Tactic service file. Change the
following line:</p><pre class="screen">su - $TACTIC_USER -m -c "$LAUNCH" &gt;&gt; $LOG 2&gt;&amp;1 &amp;</pre><p>To this:</p><pre class="screen">su $TACTIC_USER -s /bin/bash -m -c "$LAUNCH" &gt;&gt; $LOG 2&gt;&amp;1 &amp;</pre><p>Save the file.</p><p>One last Python path must be corrected before we install the Tactic
service. During installation Tactic created a file that you will become
more familiar with throughout your use of Tactic. That file is
/opt/tactic/tactic_data/config/tactic_linux-conf.xml. Using your
favourite editor as root edit this file. Find the following line:</p><pre class="screen">&lt;python&gt;python&lt;/python&gt;</pre><p>And replace it with:</p><pre class="screen">&lt;python&gt;/opt/python2.7/bin/python2.7&lt;/python&gt;</pre><p>Save the file.</p><p>Now we will install the Tactic service. As root type the following:</p><pre class="screen">cp /opt/tactic/tactic/src/install/service/tactic /etc/init.d/tactic
chmod 755 /etc/init.d/tactic
/sbin/chkconfig tactic on
/etc/init.d/tactic start</pre><p>Tactic should now start properly as a service. Test this by launching a
web browser and navigating to the Tactic login page as you did
previously. If you are having trouble the following error logs will help
you diagnose your problems:</p><p><span class="strong"><strong>Common Error Logs</strong></span></p><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>/opt/tactic/tactic_temp/log/stdout.log</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Path to the TACTIC standard out
log assuming you have chosen /opt/tactic as the base installation path</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>/var/log/tactic</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Path to the Tactic error log.</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>/var/log/httpd/error_log</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Path to the Apache error log.</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>/var/log/httpd/access_log</p></td><td style="" align="left" valign="top"><p>Path to the Apache access log.</p></td></tr></tbody></table></div><p>Finally, reboot the server and test whether the TACTIC service continues
to perform across reboots. You are advised to set up log rotation by
reviewing the Rotate Log section in the Sys Admiin documentation.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_tactic_install_centos_6_2"></a>2.5. TACTIC Install - CentOS 6.2</h3></div></div></div><p>While there may be some slight variations in the steps in different
versions of CentOS 6, this guide can be used for CentOS 6.x as a
reference.</p><p><span class="strong"><strong>Requirements</strong></span></p><p>TACTIC requires the following software to be installed:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
Apache HTTP server 2.2
</li><li class="listitem">
Postgres Database Server 8.4 or higher
</li><li class="listitem"><p class="simpara">
Python 2.6 or 2.7 with the following Python modules:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">
Python Imaging Library 1.1.7
</li><li class="listitem">
Python lxml 2.3.5
</li><li class="listitem">
Pycrypto 2.3
</li><li class="listitem">
Psycopg2 2.4.6
</li></ul></div></li></ul></div><p>It should be noted that while there may be newer versions of these
Python modules, TACTIC 3.9.0.rc04 has been tested with these particular
versions.</p><p><span class="strong"><strong>Disabling Security for Testing</strong></span></p><p>To get TACTIC up quickly without fiddling with OS security, it is
prudent to disable firewalling and SELinux. This is by no means an
endorsement to run your server without these services. Once you have
TACTIC up and running, you are advised to read the section &lt;TACTIC
SECURITY&gt;.</p><p>CentOS 6.2 uses the iptables service as a firewall. To disable this
temporarily, you can issue the following commands as root.</p><pre class="screen">/etc/init.d/iptables save
/etc/init.d/iptables stop</pre><p>This will disable the firewall for the currently running CentOS session.
Should you wish these settings to persist across reboots, you can issue
the following command as root.</p><pre class="screen">/sbin/chkconfig iptables off</pre><p>To disable SELinux, edit the file /etc/selinux/config as root with your
editor of choice and set the SELINUX variable to <span class="emphasis"><em>disabled</em></span>.</p><pre class="screen">SELINUX=disabled</pre><p>Since getting this setting to take effect requires a reboot, you can
also issue the following command for it to take effect immediately.</p><pre class="screen">echo 0 &gt; /selinux/enforce</pre><p><span class="strong"><strong>Installing Apache HTTP server</strong></span></p><p>In case Apache 2.2 is not already pre-installed on CentOS 6.2, issue the
following command as root:</p><pre class="screen">yum install httpd</pre><p>This package has several dependencies and they should be installed as
well.</p><p>It would be good to familarize yourself with some of the more pertinent
paths in the Apache installation on CentOS 6.2. They are listed below
for your convenience.</p><div class="table"><a id="idm256628460096"></a><p class="title"><strong>Table 1. Common Paths in Apache 2.2</strong></p><div class="table-contents"><table summary="Common Paths in Apache 2.2" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /><col class="col_2" /></colgroup><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>/etc/httpd/conf/httpd.conf</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Path to the main Apache configuration file.</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>/etc/httpd/conf.d/</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Path to the Apache dynamic configuration directory.</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>/var/log/httpd/error.log</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Path the the Apache error log.</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>/var/www/html</p></td><td style="" align="left" valign="top"><p>Path to the Document Root folder of the base Apache
install.</p></td></tr></tbody></table></div></div><br class="table-break" /><p>It’s best to test your Apache install at this point. The included main
Apache configuration file is enough to get the server started. You will
need create a small html file to do this. Using your editor of choice,
create a file called index.html, with the content as follows:</p><pre class="screen">&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;Apache Base Install&lt;/title&gt;
  &lt;/head&gt;
&lt;body&gt;
   &lt;p&gt;Apache Install Successful&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</pre><p>Save the file in /var/www/html and issue the following command as root
to ensure proper permissions are set:</p><pre class="screen">chmod 755 /var/www/html/index.html</pre><p>The Apache server can be started. As root, issue the following command:</p><pre class="screen">/etc/init.d/httpd start</pre><p>The service should start successfully. Otherwise, consult the Apache
error log listed above to discover any problems that may have occured.</p><p>At last, you can point a web browser to the IP address associated with
the server. If you see the text "Apache Install Successful", then your
server is up and running and can serve pages properly.</p><p>Finally, to make the Apache service persist through reboots, issue the
following command as root:</p><pre class="screen">/sbin/chkconfig httpd on</pre><p>Then reboot the server and make sure that httpd comes up on reboot and
that you can view the test page properly. Later in the install, the
Apache server will be configured to interact with TACTIC properly.</p><p><span class="strong"><strong>Installing Postgres Database Server</strong></span></p><p>TACTIC requires PostgreSQL version 8.4 or higher. First we must make
sure that we didn’t include the default version Postgres in our base
install. As root please issue the following command:</p><pre class="screen">rpm -qva | grep -i postgres</pre><p>This command will search your installed packages and filter the output
for any packages containing the work postgres. If you receive any output
from this command please uninstall the packages by issuing the following
command:</p><pre class="screen">rpm -e &lt;package_name&gt;</pre><p>Where &lt;package_name&gt; is the name of the package you wish to uninstall.
Consult the RPM or Yum manpages for further instructions on installing
and uninstalling packages.</p><p>Lastly before installing any new Postgres repository, we want to make
sure to exclude the default version of Postgres from showing up in the
base and update Yum repositories included with the operating system
itself. Using a text editor, edit the file
/etc/yum.repos.d/CentOS-Base.repo to include the line under both the
[base] section and the [updates] section of the file. :</p><pre class="screen">exclude=postgresql*</pre><p>Save the file. For more information on the Yum installer and repository
system please see the manpages for yum or the yum website
<a class="ulink" href="http://yum.baseurl.com" target="_top">http://yum.baseurl.com</a></p><p>Once we have uninstalled any previous versions of Postgres, we can then
proceed installing a new Yum repository that contains the version of
Postgres we want to install. As root issue the following commands:</p><pre class="screen">rpm -Uvh http://yum.postgresql.org/9.2/redhat/rhel-6-x86_64/pgdg-centos92-9.2-6.noarch.rpm</pre><p>At the time of writing the current version of Postgres was 9.2-6, for
more current installation versions please visit
<a class="ulink" href="http://yum.pgrpms.org/repopackages.php" target="_top">http://yum.pgrpms.org/repopackages.php</a> and view the available repository
RPMs for your operating system and architecture.</p><p>Lastly, we will install the proper Postgres version 9.2 RPMs. As root,
issue the following command:</p><pre class="screen">yum install postgresql postgresql-server postgresql-contrib postgresql-devel</pre><p>Now that Postgres is installed, you are advised to make some basic
configuration to make sure the installation is ready for use with
TACTIC.</p><p>Here are the pertinent Postgres file paths that will be used throughout
the install:</p><div class="table"><a id="idm256628426640"></a><p class="title"><strong>Table 2. Common Paths in Postgres 9.2 on CentOS 6.2</strong></p><div class="table-contents"><table summary="Common Paths in Postgres 9.2 on CentOS 6.2" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /><col class="col_2" /></colgroup><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>/var/lib/pgsql/9.2</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Path to the main Postgres directory.</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>/var/lib/pgsql/data/pg_hba.conf</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Path to the host based authentication
file for Postgres.</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>/var/lib/pgsql/9.2/pgstartup.log</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Path to the Postgres startup log.</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>/var/lib/pgsql/9.2/data/pg_log</p></td><td style="" align="left" valign="top"><p>Path to Postgres database logs.</p></td></tr></tbody></table></div></div><br class="table-break" /><p>Initialize the database:</p><pre class="screen">su - postgres -c /usr/pgsql-9.2/bin/initdb</pre><p>Once that command successfully completes we can then start the service.
As root issue the following command:</p><pre class="screen">service postgresql-9.2 start</pre><p>If the service starts successfully, we can move forward. Otherwise, you
can review any startup errors in the Postgres startup log. Further
troubleshooting help can be found at <a class="ulink" href="http://postgresql.org" target="_top">http://postgresql.org</a>.</p><p>Lastly, to make sure the Postgres service persist through reboots. you
will issue the following command:</p><pre class="screen">chkconfig --levels 235 postgresql-9.2 on</pre><p>Reboot your server to ensure the service comes up appropriately.</p><p><span class="strong"><strong>Installing Python Devel for the preinstalled Python</strong></span></p><p>As noted above TACTIC requires version 2.6 or 2.7 of Python. In CentOS
5.x, we used to recommend installing Python 2.7 along side the built-in
Python 2.4. In CentOS 6.2, the built-in Python 2.6.6 already suffices.</p><p>First, we need to install some development libraries and a compiler. As
root issue the following command:</p><pre class="screen">yum install gcc zlib-devel libxslt-devel libxml2-devel

yum install python-devel</pre><p>This will install the Python Devel and all the other relevant libraries
to install the various Python modules.</p><p><span class="strong"><strong>Installing Python Modules</strong></span></p><p><span class="strong"><strong>Installing lxml 2.3.5</strong></span></p><p>TACTIC requires lxml version 2.2 or above. 2.3.5 is used at the time of
writing. As root, issue the following commands:</p><pre class="screen">cd /tmp
wget http://lxml.de/files/lxml-2.3.5.tgz
tar -zxvf lxml-2.3.5.tgz
cd lxml-2.3.5
python setup.py install</pre><p>Verify the installation by running your custom python binary and trying
to import the module. As root issue the following command:</p><pre class="screen">python</pre><p>You should receive a python environment and prompt similar to this:</p><pre class="screen">Python 2.6.6 (r271:86832, Apr 12 2011, 16:16:18)
[GCC 4.1.2 20080704 (Red Hat 4.1.2-51)] on linux2
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt;</pre><p>At the prompt please type the following:</p><pre class="screen">import lxml</pre><p>If you receive another prompt and no error occurs, the import was
successful and LXML is installed. We will use the same procedure to
check the veracity of our other modules installations as well.</p><p><span class="strong"><strong>Installing Python Imaging Library 1.1.7</strong></span></p><p>We follow the same procedure to install the Python Imaging Library. As
root issue the following commands:</p><pre class="screen">cd /tmp
wget http://effbot.org/downloads/Imaging-1.1.7.tar.gz
tar -zxvf Imaging-1.1.7.tar.gz
cd Imaging-1.1.7
/opt/python2.7/bin/python2.7 setup.py install</pre><p>Check the installation of the module by loading python and issuing the
following command at the python prompt:</p><pre class="screen">import PIL</pre><p><span class="strong"><strong>Installing Pycrypto 2.3</strong></span></p><p>The installation of Pycrypto also follows this template. As root issue
the following commands:</p><pre class="screen">cd /tmp
wget http://pypi.python.org/packages/source/p/pycrypto/pycrypto-2.3.tar.gz
tar -zxvf pycrypto-2.3.tar.gz
cd pycrypto-2.3
python setup.py install</pre><p>Check the installation of the module by loading python and issuing the
following command at the Python prompt:</p><pre class="screen">import Crypto</pre><p><span class="strong"><strong>Installing Psycopg2 2.4.6</strong></span></p><p>Psycopg2 is a Postgres database adapter for Python. The install is akin
to the previous 3 except that since we’ve customized our Postgres
install, we have to let Psycopg2 know that as well. First lets get the
package and uncompress it. As root issue the following:</p><pre class="screen">yum install postgresql-libs</pre><pre class="screen">cd /tmp
wget http://initd.org/psycopg/tarballs/PSYCOPG-2-4/psycopg2-2.4.6.tar.gz
tar -zxvf psycopg2-2.4.6.tar.gz
cd psycopg2-2.4.6</pre><p>Now we have to modify the pg_config variable in the file setup.cfg.
Using your editor to open /tmp/psycopg2-2.4.6/setup.cfg and edit the
pg_config entry to match the following:</p><pre class="screen">pg_config=/usr/pgsql-9.2/bin/pg_config</pre><p>Now we should be able to install Psycopg2 properly. As root issue the
following command:</p><pre class="screen">python setup.py install</pre><p>Check the installation of the module by loading python and issuing the
following command at the python prompt:</p><pre class="screen">import psycopg2</pre><p>Now that all the TACTIC components are installed, we can begin running
the TACTIC installer.</p><p><span class="strong"><strong>Installing Tactic 3.9.0.rc04</strong></span></p><p>First we have to download the TACTIC source from the Southpaw Community
website. Using a web browser navigate to
<a class="ulink" href="http://community.southpawtech.com" target="_top">http://community.southpawtech.com</a>. After you have logged in, please
click on "Downloads" in the upper right hand corner of the website. Once
you are on the downloads page, you should see the download link for the
latest TACTIC Enterprise. Save the TACTIC Enterprise zip file in /tmp on
the server.</p><p>Once we have the Tactic source we need to unpack it. As root issue the
following commands:</p><pre class="screen">cd /tmp
unzip tactic-3.9.0.rc04.zip</pre><p>Once the TACTIC source is unpacked, you should familarize yourself with
its directory structure. The prefix of the paths will change during
install; however, the directory structure will remain the same.</p><div class="table"><a id="idm256628378080"></a><p class="title"><strong>Table 3. Common Paths in Tactic 3.9.0.rc04</strong></p><div class="table-contents"><table summary="Common Paths in Tactic 3.9.0.rc04" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /><col class="col_2" /></colgroup><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>/tmp/tactic-3.9.0.rc04/doc</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Path to the Tactic documentation.</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>/tmp/tactic-3.9.0.rc04/src</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Path to the Tactic source files.</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>/tmp/tactic-3.9.0.rc04/src/install</p></td><td style="" align="left" valign="top"><p>Path to the Tactic install script
and configuration files for Tactic dependencies.</p></td></tr></tbody></table></div></div><br class="table-break" /><p>Before we run the Tactic installer, we must further configure Postgres
to ensure proper installation of Tactic.</p><p><span class="strong"><strong>Configuring Postgres</strong></span></p><p>Tactic supplies a custom host based authentication file for Postgres.
After stopping the Postgres service we will install the file in
question, restart the service and verify that the configuration has been
properly put in place. As root issue the following commands:</p><pre class="screen">service postgresql-9.2 stop
mv /var/lib/pgsql/9.2/data/pg_hba.conf /var/lib/pgsql/9.2/data/pg_hba.conf.INSTALL
cp /tmp/tactic-3.9.0.rc04/src/install/postgresql/pg_hba.conf /var/lib/pgsql/9.2/data/pg_hba.conf
chown postgres:postgres /var/lib/pgsql/9.2/data/pg_hba.conf
service postgresql-9.2 start</pre><p>If the service starts successfully we can then proceed to verification.
If not please consult the Postgres startup log for error information.
Postgres must be running as a service during the Tactic install. Next we
will test the install. As root, issue the following command:</p><pre class="screen">psql -U postgres template1</pre><p>This command should fire up a prompt like this:</p><pre class="screen">template1=#</pre><p>If you can see this prompt without being asked for a password, the
configuration changes have been successful. Type \q to exit.</p><p><span class="strong"><strong>Installing Tactic</strong></span></p><pre class="screen">python /tmp/tactic-3.9.0.rc03/src/install/install.py</pre><p>The installer will ask you a number of questions. You should be prompted
by the following:</p><pre class="screen">Please enter the base path of the TACTIC installation:

(/home/apache) -&gt; /opt/tactic</pre><p>Choose your custom Tactic path, this will be the base directory for your
Tactic installation. We have chosen /opt/tactic. Next you will be asked
to identify the user used to run the Apache service.</p><pre class="screen">Please enter the user Apache Web Server is run under:

(apache) -&gt;</pre><p>In many cases the default user "apache" is correct. However you can
verify this easily in another shell by issueing the following command as
root:</p><pre class="screen">ps -ef | grep httpd</pre><p>The first column of output is the username Apache is running under.
Should you receive no output, make sure your httpd service is running.
Under CentOS 6.2 the apache user is "apache" so we will accept the
default the installer gives us.</p><p>The installer will then install the Tactic databases, configure Tactic
and copy the source code into the Tactic base directory.</p><p><span class="strong"><strong>Configuring Apache</strong></span></p><p>Lastly Tactic requires us to install the custom Apache configuration
file it has created during the installation process. As root issue the
following commands:</p><pre class="screen">cp /opt/tactic/tactic_data/config/tactic.conf /etc/httpd/conf.d</pre><p>To test this we should first verify that /etc/httpd/conf.d is an
included module path in the main Apache configuration file. As root
issue the following command:</p><pre class="screen">cat /etc/httpd/conf/httpd.conf | grep conf.d</pre><p>If you receive the following as output we have installed the Tactic
Apache configuration file correctly.</p><pre class="screen">Include conf.d/*.conf</pre><p>If you do not receive this output, using your editor as root edit the
file /etc/httpd/conf/httpd.conf and at the bottom of the file insert the
statement listed above. Save the file.</p><p>Lastly we will create a redirect for Tactic using the index.html file at
the document root of the Apache server. Using a text editor as root,
edit the file /var/www/html/index.html to contain only the following
line:</p><pre class="screen">&lt;META http-equiv="refresh" content="0;URL=/tactic"&gt;</pre><p>Restart the Apache service to make sure the configuration hasn’t caused
any problems. As root issue the following command:</p><pre class="screen">/etc/init.d/httpd restart</pre><p>Lastly we need to ensure that the Apache server has loaded the modules
needed for proxying and load balancing the Tactic service. As root issue
the following command:</p><pre class="screen">/usr/sbin/httpd -t -D DUMP_MODULES</pre><p>In the resulting output look for the following modules:</p><pre class="screen">rewrite_module (shared)
proxy_module (shared)
proxy_http_module (shared)
proxy_balancer_module (shared)
deflate_module (shared)</pre><p>The CentOS 6.2 install of Apache includes a large array of modules
enabled by default, including the ones required by Tactic.</p><p><span class="strong"><strong>Starting Tactic in Development Mode</strong></span></p><p>We are now prepared to start the Tactic service for the first time.
Tactic must be run as the Apache user. Usually we would su to the apache
user, however since its a system account without a login this will not
work without optionally telling su to give the Apache user a shell
environment. In a shell with the LD_LIBRARY_PATH set as laid out in the
section "Installing Python 2.7 Modules", as root issue the following
command:</p><pre class="screen">su apache -s /bin/bash -c "/opt/python2.7/bin/python2.7 /opt/tactic/tactic/src/bin/startup_dev.py"</pre><p>You should see the following output:</p><pre class="screen">Registering site ... admin
Registering site ... sthpw
Registering site ... default

Starting TACTIC ...

Starting Scheduler ....
[08/Nov/2011:23;13:20] ENGINE Bus STARTING
[08/Nov/2011:23;13:20] ENGINE Started monitor thread '_TimeoutMonitor'.
[08/Nov/2011:23;13:20] ENGINE Started monitor thread 'Autoreloader'
[08/Nov/2011:23;13:21] ENGINE Serving on 127.0.0.1:8081
[08/Nov/2011:23;13:21] ENGINE Bus STARTED</pre><p>You should now be able to navigate a web browser to
<a class="ulink" href="http://localhost/tactic/admin" target="_top">http://localhost/tactic/admin</a>. Alternatively, use the non-local IP
address or fully qualified domain name you have assigned to your TACTIC
server in place of localhost. You should see the TACTIC login screen.</p><p>TACTIC defines an administrative user by default. The login information
is:</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">
Username: admin; Password: (set it on your first login)
</span></dt><dd>
In 3.9, the login screen requires you to change the password
immediately. You will have to type it in twice to confirm.
</dd></dl></div><p><span class="strong"><strong>Installing TACTIC as a Service</strong></span></p><p>The TACTIC service file is simple to install</p><p>Use the key combination CTRL+c in the shell running TACIC in Development
mode to stop it first when you are ready to run TACTIC as a service.</p><p>Change the following line in the file
/opt/tactic/tactic/src/install/service/tactic:</p><pre class="screen">su - $TACTIC_USER -m -c "$LAUNCH" &gt;&gt; $LOG 2&gt;&amp;1 &amp;</pre><p>to this:</p><pre class="screen">su $TACTIC_USER -s /bin/bash -m -c "$LAUNCH" &gt;&gt; $LOG 2&gt;&amp;1 &amp;</pre><p>Save the file.</p><p>Now as root, type the following:</p><pre class="screen">cp /opt/tactic/tactic/src/install/service/tactic /etc/init.d/tactic
chmod 755 /etc/init.d/tactic
/sbin/chkconfig tactic on
/etc/init.d/tactic start</pre><p>TACTIC should now start properly as a service. Test this by launching a
web browser and navigating to the TACTIC login page as you did
previously. If you are having trouble, the following error logs will
help you diagnose your problems:</p><div class="table"><a id="idm256628327472"></a><p class="title"><strong>Table 4. Common Error Logs</strong></p><div class="table-contents"><table summary="Common Error Logs" cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /><col class="col_2" /></colgroup><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>/opt/tactic/tactic_temp/log/stdout.log</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Path to the TACTIC standard out
log assuming you have chosen /opt/tactic as the base installation path</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>/var/log/tactic</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Path to the TACTIC error log in service mode</p></td></tr><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>/var/log/httpd/error_log</p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p>Path to the Apache error log</p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>/var/log/httpd/access_log</p></td><td style="" align="left" valign="top"><p>Path to the Apache access log</p></td></tr></tbody></table></div></div><br class="table-break" /><p>Finally, reboot the server and test whether the TACTIC service continues
to perform across reboots. You are advised to set up log rotation by
reviewing the Rotate Log section in the Sys Admin documentation.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_tactic_install_windows_server_2008"></a>2.6. TACTIC Install - Windows Server 2008</h3></div></div></div><p>To completely install TACTIC Enterprise, there are three main components
that have to be set up in the following order:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
A Database
</li><li class="listitem">
The TACTIC Installer
</li><li class="listitem">
A Web Server
</li></ol></div><p>TACTIC stores all metadata in a database called PostgreSQL. This is an
industrial strength, hugely scalable database that has proven itself in
thousands of industries around the world. Go to the
<a class="ulink" href="http://www.postgresql.org" target="_top">PostgreSQL website</a> for more information.</p><p>From the PostgreSQL site (<a class="ulink" href="http://www.postgresql.org" target="_top">http://www.postgresql.org</a>), download the .msi
file for the latest binary distribution. We have encountered no problems
using any of the versions above 8.4. You can find the binary
distribution at this site. Follow the installation wizard for
PostgreSQL. It is safe to choose all of the default settings if you do
not have much experience with the PostgreSQL. It is best not to set a
password during installation, although the Windows installer may force
you to set one up.</p><p>Unzip Tactic Enterprise in a temporary location like C:/temp</p><p>It is mandatory you edit the "pg_hba.conf" file after installation</p><p>It is located in C:/Program Files/PostgreSQL/&lt;version&gt;/data This file
determines all of the user permissions for PostgreSQL. You can open this
file with any text editor like notepad. To begin with, turn on all of
the permissions contained in this file. This is a temporary measure that
will greatly simplify the installation process. You may lock down these
permissions at a later date. Please consult the PostgreSQL documentation
on how to do this. TACTIC ships with a sample "pg_hba.conf" file
(located in
&lt;TACTIC_unzipped_package&gt;/src/install/postgresql/pg_hba.conf). This file
has an open security setting for ease of installation. It’s best to back
up your current pg_hba.conf file before copying over with the file
provided by TACTIC. Note: in Windows, you would need to comment out the
line</p><p>local all all trust</p><p>You add a comment by putting a <span class="emphasis"><em>#</em></span> at the beginning of the line like
this:</p><p>#local all all trust</p><p>Add the PostgreSQL bin directory to the environment path in Advanced
System Settings: C:\Program Files\PostgreSQL\&lt;version&gt;\bin\</p><p>To do this, go to Start -→ Control Panel. If it’s organized in category
mode, go to system and security -→ system. If its not categorized, you
should see system directly. In system, find advanced system and settings
-→ go to the advanced tab -→ Environment variables. Now in the system
variables box, Navigate to the variable "Path". Add the bin directory to
the end of the value.</p><p>Restart the PostgreSQL Service:</p><p>You can go to the control panel again to do this. If it’s organized in
category mode, go to system and security -→ administrative tools. If
it’s not categorized, you will see administrative tools directly.
Inside, you can find services. Find the postgresql service and restart
it. Note: If you have command prompt open, you need to reopen it for the
environment variable to take effect.</p><p><span class="strong"><strong>Verification</strong></span></p><p>Verify that psql works in the command prompt:</p><pre class="screen">&gt; psql -U postgres template1</pre><p>It should give you a prompt:</p><pre class="screen">template1=#</pre><p>If you see this prompt without the need to enter a password, you have
successfully installed the PostgreSQL database. Type \q to exit.</p><p><span class="strong"><strong>Install Python and supporting modules</strong></span></p><p>The TACTIC source code is written in Python. As such, the complete
codebase is open.</p><p>To install Python, you can find an msi at
<a class="ulink" href="http://www.python.org" target="_top"><span class="strong"><strong>http://www.python.org</strong></span></a>. TACTIC requires Python
2.6 or higher.</p><p>TACTIC also requires a number of Python modules to function correctly.
These modules are generally not installed by default with the standard
Python distributions. For Windows, they are already packaged in a file
python_modules.zip available for download in the release section of the
downloads page at <span class="strong"><strong>http://community.southpawtech.com/downloads</strong></span></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
PIL 1.1.7
</p><p class="simpara">(Python Image Library)
* ImageMagick 6.7.8</p><p class="simpara">(A command line program which complements PIL) -</p><p class="simpara"><a class="ulink" href="http://www.imagemagick.org" target="_top">http://www.imagemagick.org</a>
* <span class="strong"><strong>FFmpeg</strong></span> <span class="strong"><strong>version 0.6</strong></span>(Solution to record, convert and stream audio
and video and metadata parsing) -
<a class="ulink" href="www.imagemagick.org" target="_top">http://www.ffmpeg.org</a>
* psycopg2 2.3.1</p><p class="simpara">(Database connectivity)
* PyCrypto version 2.0.1/2.1</p><p class="simpara">(For de-encrypting the license file) -</p><p class="simpara"><a class="ulink" href="http://www.amk.ca/python/code/crypto" target="_top">http://www.amk.ca/python/code/crypto</a>
* simplejson 2.1.1 (not needed since Python 2.6)</p><p class="simpara">simplejson.egg can be installed with the EasyInstaller. It is need for
JSON string encoding and parsing
* lxml 2.1 or 2.2</p><p class="simpara">(XML and XPath processing)
* pywin32-(build 2##)</p><p class="simpara">(Python Windows OS module)</p></li></ul></div><p><span class="strong"><strong>Windows</strong></span></p><p>Unfortunately, Python is not preinstalled on Windows machines; however,
with the installer this is not difficult.</p><p>The Python installer does not set the Python path, so this must be added</p><p>Go to
Start→Control Panel→System
Click on the "Advanced" tab.
Select "Path" under "System Variables" and click the "Edit" button.
Add Python to the environment path: "C:\Python26\" to the end of the
"Variable Value"
To test that Python is working from the command prompt, run the command:
<code class="literal">python</code></p><p>You should get the following prompt:</p><pre class="screen">Python 2.6.2 (#67, Sep 28 2009, 12:41:11) [MSC v.1310 32 bit (Intel)] on win32
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt;</pre><p>If you haven’t done so already above, unzip Tactic Enterprise in a
temporary location like C:/temp</p><p>Go to
C:/temp/tactic_#../src/install/</p><pre class="screen"># cd C:/temp/tactic_#.#.#.#/src/install</pre><p>Execute:
install.py</p><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>Note</strong></span></p><p>You must invoke the installation with root user privileges because it
attempts to write to the &lt;python_install&gt;/site-packages directory.</p></blockquote></div><pre class="screen"># python install.py</pre><p>The installer will ask a number of questions. First it ask for the
&lt;TACTIC_BASE_DIR&gt;:</p><pre class="screen">Please enter the base path of the TACTIC installation:

(C:/Program Files/Southpaw) -&gt;</pre><p>It would copy the source code to the base path. An Apache Web Server
file will be generated at the end which you would need to copy to the
Apache config area upon installation of the web server. If there are
existing files in the destination directory the installer will ask for
your confirmation to remove it. At the end, you will see this:</p><pre class="screen">Installing service TacticService
Changing service configuration
Service updated

*** Installation of TACTIC completed at [C:/Program Files/Southpaw] ***


Next, please install the Apache Web Server and then copy the Apache config extension
[C:/Program Files/Southpaw/tactic_data/config/tactic_win32.conf] to the Apache web server config area. e.g.
C:/Program Files/Apache Software Foundation/Apache2.2/conf</pre><p><span class="strong"><strong>Verification</strong></span></p><p>When the installation is completed, an asset directory will be created
at <span class="emphasis"><em>&lt;TACTIC_BASE_DIR&gt;/assets</em></span>.</p><p>The file tactic_paths.py will be created in the following directories:</p><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /><col class="col_2" /></colgroup><tbody><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p>Windows</p></td><td style="" align="left" valign="top"><p>[multiblock cell omitted]</p></td></tr></tbody></table></div><p><span class="strong"><strong>Network machine access</strong></span></p><p>If you are on the server, you can access it by using the URL
<a class="ulink" href="http://localhost/tactic" target="_top">http://localhost/tactic</a>. For other people to access it on the network,
you need to find out its IP address. In a linux server, you can use the
command "ifconfig" to locate it. It’s the one listed as the inet addr.</p><p>Next, you need to run TACTIC behind Apache.</p><p>TACTIC should be run behind an Apache web server. You can download
Apache software at <a class="ulink" href="http://www.apache.org/" target="_top">http://www.apache.org/</a></p><p>The TACTIC application server is able to serve up static content such as
images, PDF files, Quicktime files, and so on, but it is not the most
efficient at this because it is written in Python. This is what Apache
is designed for. By running TACTIC behind Apache, it relieves TACTIC
from serving the static content so that it can focus on the dynamic
content.</p><p>For production use, it is highly recommended that TACTIC is run behind
the Apache server. This has many scalability advantages. When running
behind Apache, Apache uses a reverse proxy and proxy balancer module to
forward requests to communicate with TACTIC.</p><p><span class="strong"><strong>Windows</strong></span></p><p>After the installation, some changes may need to be made in the
"httpd.conf" file for Apache.</p><pre class="screen">C:/Program Files/Apache Software Foundation/Apache2.2/conf/httpd.conf</pre><p>Make sure the following lines are uncommented:</p><pre class="screen">LoadModule rewrite_module modules/mod_rewrite.so
LoadModule proxy_module modules/mod_proxy.so
LoadModule proxy_http_module modules/mod_proxy_http.so
LoadModule proxy_balancer_module modules/mod_proxy_balancer.so
LoadModule deflate_module modules/mod_deflate.so</pre><p>These lines may already be uncommented, depending on your distribution
and version of Apache. You need version 2.0.31 or later.</p><p>The TACTIC installer generates an Apache extension conf file on
completion. You need to copy that file to a directory that is recognized
by Apache.</p><p>For Windowse: this directory is:</p><p>` C:/Program Files/Apache Software Foundation/Apache2.2/conf`</p><p>You must add the following line to the "httpd.conf" file so that it will
read the extension conf file provided by the installer:</p><pre class="screen">Include conf/tactic_win32.conf</pre><p><span class="strong"><strong>Web Server configuration</strong></span></p><p>In our provided file:</p><pre class="screen">tactic_win32.conf</pre><p>Make sure the following lines exist:</p><pre class="screen"># Using the ProxyPass directives
ProxyPreserveHost on

&lt;Proxy balancer://tactic&gt;
BalancerMember http://localhost:8081/tactic
BalancerMember http://localhost:8082/tactic
BalancerMember http://localhost:8083/tactic
&lt;/Proxy&gt;
ProxyPass /tactic balancer://tactic
ProxyPass /tactic_data balancer://tactic</pre><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>Note</strong></span></p><p>Warning: For load balancing, only use either:</p><p>\1) the Proxy Balancer method (recommended)</p><p><span class="strong"><strong>or</strong></span></p><p>\2) the RewriteRule method (not recommended).</p><p>Do <span class="strong"><strong>not</strong></span> use both methods at the same time.</p></blockquote></div><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>Note</strong></span></p><p>For configuring load-balancing set-up in a real production, please refer
to the Load Balancing section in the Sys-admin docs.</p></blockquote></div><div class="blockquote"><blockquote class="blockquote"><p><span class="strong"><strong>Note</strong></span></p><p>When trying to set up Apache on a Windows Server, to specify a share
folder for Apache to use, you may need to include the name of the share
folder in the path.</p><p>For example, use the following if you have named the share folder
"my_share":</p><pre class="screen">Alias /assets "//10.0.0.17/my_share/assets"</pre></blockquote></div><p>Note: For configuring load-balancing set-up in a real production, please
refer to the Load Balancing section of this Sys-admin doc.</p><p>Finally, after verifying the configuration is correct, restart the
Apache service:</p><pre class="screen">You can do it in the Windows Services UI or through the task tray and right click on the Apache icon.</pre><p>Go to the &lt;TACTIC_INSTALL_DIR&gt;/src/bin folder</p><p>`cd C:/Program Files/Southpaw/tactic/src/bin `</p><p><code class="literal">python startup_dev.py</code></p><p>This "startup_dev.py" script is the development script which will dump
output to the screen. The other startup script "startup.py" is the
production start-up script and will dump output to a log file. The
development start-up script is also much slower as it monitors the file
system to see if any files have changed.</p><p>The output would look like the following:</p><pre class="screen">Registering site ... admin
Registering site ... default
Registering site ... test
Registering site ... my_project

Starting TACTIC ...

05/Jul/2007:11:16:29 CONFIG INFO Server parameters:
05/Jul/2007:11:16:29 CONFIG INFO server.environment: development
05/Jul/2007:11:16:29 CONFIG INFO server.log_to_screen: True
05/Jul/2007:11:16:29 CONFIG INFO server.log_file: D:/tactic_temp/log/tactic_log
05/Jul/2007:11:16:29 CONFIG INFO server.log_tracebacks: True
05/Jul/2007:11:16:29 CONFIG INFO server.log_request_headers: True
05/Jul/2007:11:16:29 CONFIG INFO server.protocol_version: HTTP/1.0
05/Jul/2007:11:16:29 CONFIG INFO server.socket_host:
05/Jul/2007:11:16:29 CONFIG INFO server.socket_port: 8081
05/Jul/2007:11:16:29 CONFIG INFO server.socket_file:
05/Jul/2007:11:16:29 CONFIG INFO server.reverse_dns: False
05/Jul/2007:11:16:29 CONFIG INFO server.socket_queue_size: 10
05/Jul/2007:11:16:29 CONFIG INFO server.thread_pool: 5
05/Jul/2007:11:16:30 HTTP INFO Serving HTTP on http://localhost:8081/</pre><p><code class="literal">http://&lt;TACTIC_server_address&gt;/tactic/admin/</code></p><p>You should see the TACTIC login appear.</p><p><span class="inlinemediaobject"><img src="media/sys-admin-tactic-windows-server-2008-loginScreen.png" alt="image" /></span></p><p>There is a default user created on installation. This is the "admin"
user and this user has the ability to see and change all aspects of the
system. Log in as the admin user:</p><p><strong>Note: You may be asked to change your password automatically at startup. </strong>without entering these default credentials.</p><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; " width="100%"><colgroup><col class="col_1" /><col class="col_2" /></colgroup><tbody><tr><td style="border-right: 1px solid #527bbd; border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>user:</strong></span></p></td><td style="border-bottom: 1px solid #527bbd; " align="left" valign="top"><p><code class="literal">admin</code></p></td></tr><tr><td style="border-right: 1px solid #527bbd; " align="left" valign="top"><p><span class="strong"><strong>password:</strong></span></p></td><td style="" align="left" valign="top"><p><code class="literal">tactic</code></p></td></tr></tbody></table></div><p>Note: The TACTIC service should have been set up during the
installation. You just need to start it.</p><p>First, stop TACTIC running in dev mode if applicable by pressing Ctrl
C in that shell</p><p>In Windows, :</p><p><code class="literal">Start the "Tactic Application Server" in Windows Services
        UI.</code></p><p><span class="inlinemediaobject"><img src="media/windowsServices.png" alt="image" /></span></p><p>At this point you will need to install a TACTIC license file and then
begin to set up a project.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">
For more information on installing the license file, please refer to
the <span class="strong"><strong><a class="ulink" href="#" target="_top">License Installation Documentation</a></strong></span>.
</li><li class="listitem">
For more information on getting started with projects, please refer to
the <span class="strong"><strong><a class="ulink" href="#" target="_top">Sys Admin Project Guides</a></strong></span>.
</li></ul></div><p><span class="strong"><strong>Note on supplementary directories used in TACTIC:</strong></span></p><p>In the config file &lt;TACTIC_DATA_DIR&gt;/config/tactic-conf.xml, you will
find different references to directory under the path /home/apache like
/home/apache/tactic_temp , assets, and handoff. They are there because
/home/apache is the base directory chosen for installation. You will
find the Windows equivalent in the Windows installation. It could be
different in your case. In the future, you can change their locations by
editing the config file. If the assets directory is changed, ensure it’s
also updated in the Apache Web server config extension tactic.conf.</p><p>To view different information about the system and set-up, you can go to
the Global -→ System Info page. For example, you can verify if
load-balancing is set up and certain key directories are writable by
TACTIC.</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p class="simpara">
If you see missing images on logging in or errors in the output log
saying certain js files are not found, it means the Apache extension
file tactic.conf is not being referenced or you have not updated the
paths in it to reflect current &lt;TACTIC_INSTALL_DIR&gt;. For example, if
your &lt;TACTIC_INSTALL_DIR&gt; is /home/apache/tactic, you should see the
line in tactic.conf:
</p><pre class="screen">Alias /context C:/Program Files/Southpaw/tactic/src/context</pre></li><li class="listitem"><p class="simpara">
If you try to check in a Preview Image and can’t see the icon
generated, your assets alias in the Apache extension file may not be in
sync with the asset_base_dir in the TACTIC config file
tactic_linux-conf.xml
</p><pre class="screen">Alias /assets           C:/ProgramData/Southpaw/assets</pre><p class="simpara">should point to the asset_base_dir as found in tactic_win32-conf.xml</p><pre class="screen">&lt;asset_base_dir&gt;C:/ProgramData/Southpaw/assets&lt;/asset_base_dir&gt;</pre></li><li class="listitem"><p class="simpara">
If you want to re-run install.py, the installation will ask if you to
confirm backing up the sthpw database before dropping it. If you choose
to do it yourself, here is the command:
</p><pre class="screen">pg_dump -c -U postgres sthpw &gt; sthpw_backup.sql
dropdb -U postgres sthpw</pre></li><li class="listitem">
If you try to connect to the <a class="ulink" href="http://&lt;server" target="_top">http://&lt;server</a> IP&gt;/tactic and it just
times out, your server firewall could be blocking access.
</li><li class="listitem">
If the Windows TACTIC Service has trouble starting up, you can try to
edit the Properties , go to Log On tab, and adjust the Log on as user
with the Windows login which has write/read access to the tactic_temp
location as well as the asset_base_dir location.
</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_install_tactic_fedora_8"></a>2.7. Install TACTIC - Fedora 8</h3></div></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_how_to_install_tactic_on_fedora_12"></a>2.8. How to Install TACTIC on Fedora 12</h3></div></div></div><p>Below are the step-by-step instructions of how to install TACTIC on
Fedora 12.</p><p><span class="strong"><strong>Fedora 12</strong></span></p><p>There are no known issues with running a TACTIC server on Fedora 12.</p><p>Southpaw Technology has chosen to distribute their virtual machine for
evaluation on Fedora 12.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
Log in as the root user.
</li><li class="listitem"><p class="simpara">
Open the passwd file.
</p><pre class="screen">vi /etc/passwd</pre><p class="simpara">Modify the apache home directory and login shell to look like the
following:</p><pre class="screen">apache:x:48:48:Apache:/home/apache:/bin/bash</pre></li><li class="listitem"><p class="simpara">
Set password for apache to: south123paw
</p><pre class="screen">passwd apache</pre></li><li class="listitem"><p class="simpara">
Open to the sudoers file.
</p><pre class="screen">visudo</pre><p class="simpara">Add the apache user by including the following line in the appropriate
location in the file:</p><pre class="screen">apache ALL=(ALL) ALL</pre></li><li class="listitem"><p class="simpara">
Create the home directory for apache.
</p><pre class="screen">mkdir /home/apache
chown apache:apache /home/apache
chmod a+rx /home/apache</pre></li><li class="listitem"><p class="simpara">
Disable SElinux.
</p><pre class="screen">vi /etc/selinux/config</pre></li><li class="listitem"><p class="simpara">
Install modules.
</p><pre class="screen">yum install -y gcc zlib-devel samba libxslt-devel libxml2-devel postgresql-server postgresql-devel</pre></li><li class="listitem"><p class="simpara">
Disable firewall.
</p><pre class="screen">/etc/init.d/iptables save
/etc/init.d/iptables stop</pre></li><li class="listitem"><p class="simpara">
Create and open the index.html for redirection.
</p><pre class="screen">vi /var/www/html/index.html</pre><p class="simpara">Insert the following contents:</p><pre class="screen">&lt;META http-equiv="refresh" content="0;URL=/tactic"&gt;</pre></li><li class="listitem">
Re-login as the apache user.
</li><li class="listitem"><p class="simpara">
Download the TACTIC source code and setup the service.
</p><p class="simpara">Open the following link in a web browser</p><pre class="screen">http://support.southpawtech.com/downloads</pre><p class="simpara">Setup the TACTIC service.</p><pre class="screen">cd /tmp
unzip tactic_#.#.#.#.zip
sudo cp /tmp/tactic_#.#.#.#/src/install/service/tactic /etc/init.d
sudo chmod 775 /etc/init.d/tactic
sudo /sbin/chkconfig tactic on</pre></li><li class="listitem"><p class="simpara">
Setup Postgres.
</p><pre class="screen">sudo /etc/init.d/postgresql start
sudo cp /tmp/tactic_#.#.#.#/src/install/postgresql/pg_hba.conf /var/lib/pgsql/data
sudo chown postgres:postgres /var/lib/pgsql/data/pg_hba.conf
sudo /sbin/chkconfig postgresql on
sudo /etc/init.d/postgresql restart</pre></li><li class="listitem"><p class="simpara">
Setup Apache.
</p><pre class="screen">sudo cp /home/apache/tactic_data/config/tactic.conf /etc/httpd/conf.d/
sudo /sbin/chkconfig httpd on
sudo /etc/init.d/httpd start</pre></li><li class="listitem"><p class="simpara">
Install TACTIC.
</p><pre class="screen">cd /tmp/tactic_#.#.#.#/src/install
sudo python install.py
sudo /sbin/chkconfig tactic on
sudo chown -R apache:apache /home/apache/tactic /home/apache/assets /home/apache/tactic_data /home/apache/tacticTemp</pre></li><li class="listitem"><p class="simpara">
Upgrade the database.
</p><pre class="screen">python /home/apache/tactic/src/bin/upgrade_db.py</pre></li><li class="listitem"><p class="simpara">
Startup TACTIC in dev mode.
</p><pre class="screen">python /home/apache/tactic/src/bin/startup_dev.py</pre></li><li class="listitem">
Try accessing TACTIC through a web browser on a client machine.
</li><li class="listitem"><p class="simpara">
Once startup_dev works, Ctrl^C out of the process.
</p><pre class="screen">Ctrl^C</pre></li><li class="listitem"><p class="simpara">
Start TACTIC as a service.
</p><pre class="screen">sudo /etc/init.d/tactic start</pre></li></ol></div><p>End of installation instructions.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_install_a_tactic_license"></a>2.9. Install a TACTIC License</h3></div></div></div><p><span class="strong"><strong>Install License</strong></span></p><p>When TACTIC is accessed through the web browser, if a license file
cannot be found, TACTIC will prompted for a license file.</p><p><span class="inlinemediaobject"><img src="media/renewLicenseWidget.png" alt="image" /></span></p><p>To install a license file, browse for the license file (.xml) provided
by Southpaw Technology. Once the file has been selected for upload,
click <span class="strong"><strong>Install License</strong></span> to upload and install the license file.</p><p>If the license file is valid, TACTIC will display the message "License
renewal completed"</p><p>Once this has been completed, TACTIC will no longer prompt for a valid
license file.</p><p><span class="strong"><strong>Renew License</strong></span></p><p>To view information on the total users for the license and how many are
active and to update the existing license file, in the sidebar, load
<span class="strong"><strong>Site Admin → Renew License</strong></span> From here you view the License statistics
and update a new license file.</p><p><span class="inlinemediaobject"><img src="media/renewLicense.png" alt="image" /></span></p><p><span class="strong"><strong>Manual License Install</strong></span></p><p>When the user interface tool is used to upload the license, TACTIC
renames the file to tactic-license.xml and places it on the server under</p><pre class="screen">&lt;TACTIC_INSTALL_DIR&gt;/project/config/tactic-license.xml</pre><p>The XML file provided from the TACTIC representative can be renamed.
After the rename, place the license on the server according to the
structure outlined above and re-browse to tell TACTIC the new license
name.</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_upgrade_tactic"></a>2.10. Upgrade TACTIC</h3></div></div></div><p>Upgrading TACTIC is usually a relatively simple procedure:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
Download the new release of TACTIC from the Download section of
support.southpawtech.com . TACTIC is delivered as a zipped (.zip) file.
</li><li class="listitem"><p class="simpara">
Copy the new version to the installed directory of TACTIC and unpack
it. e.g.
</p><p class="simpara"><code class="literal">cd /home/apache/</code></p><p class="simpara"><code class="literal">unzip tactic-2.6.0.v01.zip</code>
3.  Stop the TACTIC service</p><p class="simpara"><code class="literal">/etc/init.d/tactic stop</code>
4.  Switch the symbolic link. See explanation on symbolic link below.
5.  In a cmd shell, cd to the bin directory of the new installation:</p><p class="simpara"><code class="literal">cd /home/apache/tactic/src/bin</code>
6.  Back up the current database:</p><p class="simpara"><code class="literal">pg_dumpall -U postgres -c &gt; database_&lt;date&gt;.sql</code>
7.  Run the upgrade script. The version number argument (for example,
2.6.0.v01) is optional.</p><p class="simpara"><code class="literal">python upgrade_db.py</code></p><p class="simpara">First, you will be prompted to confirm whether the displayed version is
the right one to upgrade to.</p><p class="simpara">On proceeding, it will check the upgrade script’s version tree against
the currently installed TACTIC version (the new one).</p><p class="simpara">Normally, they should be the same. In case they are not, you will be
prompted again to confirm if this is actually intended. Warning: if the
versions do not match, it is very likely you have not stopped the old
version from running or have not symlinked "tactic" to the new version
yet.
8.  Restart the TACTIC service:</p><p class="simpara"><code class="literal">/etc/init.d/tactic start</code>
9.  Go to the "Projects" view in the Admin site.
10. Optional: Compare each project’s schema with the one used by TACTIC.</p></li></ol></div><p><span class="strong"><strong>Explanation of switching symbolic links</strong></span></p><p>By default, in your python installation, like
/usr/lib/python2.5/site-packages/tacticenv/tactic_paths.py it defines
the TACTIC_INSTALL_DIR = <span class="emphasis"><em>/home/apache/tactic</em></span> and so a convenient way
to upgrade is to untar the new release in /home/apache/ as e.g ,
/home/apache/tactic-2.5.0.rc04 cd /home/apache then delete any existing
symbolic link named "tactic" by running <code class="literal">rm tactic</code>. Afterwards, you can
create a new symlink using <code class="literal">ln -s tactic-2.5.0.rc04 tactic</code> With the
tactic service stopped, and the TACTIC_INSTALL_DIR practically pointing
to the new release because of the symlink, now you can safely run
src/bin/upgrade_db.py in the new release.</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
Download the new release of TACTIC from the Download section of
support.southpawtech.com . TACTIC is delivered as a zipped (.zip) file.
</li><li class="listitem">
Copy the new version to the installed directory of TACTIC and unzip
it.
</li><li class="listitem"><p class="simpara">
Stop the TACTIC service
</p><p class="simpara"><code class="literal">Run services.msc</code></p><p class="simpara"><code class="literal">Select the service Tactic Server, click on the Stop
                    button</code>
4.  Rename the top directory of the new version to TACTIC.
5.  In a cmd shell, cd to the bin directory of the new installation:</p><p class="simpara"><code class="literal">cd C:\Program Files\Southpaw\Tactic\src\bin</code>
6.  Back up the current database:</p><p class="simpara"><code class="literal">pg_dumpall -U postgres -c &gt; database_&lt;date&gt;.sql</code>
7.  Run the upgrade script. The version number argument (for example,
2.6.0.v01) is optional.</p><p class="simpara"><code class="literal">python upgrade_db.py</code></p><p class="simpara">First, you will be prompted to confirm whether the displayed version is
the right one to upgrade to.</p><p class="simpara">On proceeding, it will check the upgrade script’s version tree against
the currently installed TACTIC version (the new one).</p><p class="simpara">Normally, they should be the same. In case they are not, you will be
prompted again to confirm if this is actually intended. Warning: if the
versions do not match, it is very likely you have not stopped the old
version from running or have not symlinked "tactic" to the new version
yet.
8.  Restart the TACTIC service:</p><p class="simpara"><code class="literal">Select the service Tactic Server, click on the Start
                    button</code>
9.  Go to the "Projects" view in the Admin site.
10. Optional: Compare each project’s schema with the one used by TACTIC.</p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="_multiple_tactic_services"></a>2.11. Multiple TACTIC Services</h3></div></div></div><p>Multiple versions of TACTIC can be easily run side by side on the same
machine. This is extremely useful for testing purposes. Running a newer
version of TACTIC on a production server machine using the production
server environment and production database. You can run this without
interrupting service ot the production server.</p><p>If this is not explicitly set, TACTIC will use whatever settings exist
when TACTIC was first installed. These are defined in the tacticenv
module which is first imported on all command line TACTIC scripts by:</p><pre class="screen">import tacticenv</pre><p>These values are typically found in the Python distribution
site-packages. The exact location of these files can vary between
differing operarting systems, but common examples are:</p><pre class="screen">windows: C:\Python27\site-packages\Lib\site-packages\tacticenv</pre><pre class="screen">linux: /usr/lib/python2.7/site-packages</pre><p>When TACTIC starts up, it will first look at the environment variable
TACTIC_INTALL_DIR to determine which distribution of TACTIC will be
used. Before a newer version of TACTIC is executed, it is necessary to
upgrade to the newer database schema. Unless clearly stated in the
distribution release, it is always safe to upgrade the database for a
newer version. Changes to the database are always backwards compatible,
so that older versions of TACTIC can always run on newer schema of the
database.</p><p><span class="strong"><strong>Steps</strong></span></p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p class="simpara">
Unzip a TACTIC distribution anywhere in the file system. For
purposes of examples, /home/apache will be used as the base directory
for TACTIC
</p><pre class="screen">cd /home/apache
unzip tactic-3.0.0.zip</pre></li><li class="listitem"><p class="simpara">
Set the environment variable TACTIC_INSTALL_DIR
</p><pre class="screen">export TACTIC_INSTALL_DIR=/home/apache/tactic-3.0.0</pre></li><li class="listitem"><p class="simpara">
Upgrade the database.
</p><pre class="screen">su apache
cd tactic-3.0.0.src/bin
python upgrade.py</pre></li><li class="listitem"><p class="simpara">
Execute tactic
</p><pre class="screen">python startup_dev.py</pre></li></ol></div><p>This will execute TACTIC from the command line in dev mode. All output
will go to this console.</p></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ar01s01.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ar01s03.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> </td></tr></table></div></body></html>